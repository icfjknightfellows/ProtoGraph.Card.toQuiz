!function(t){function e(a){if(o[a])return o[a].exports;var r=o[a]={exports:{},id:a,loaded:!1};return t[a].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){o(1),t.exports=o(11)},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var r=o(2),i=a(r),s=o(3),n=a(s),l=o(4),c=a(l);window.ProtoGraph=window.ProtoGraph||{},window.ProtoGraph.Card=window.ProtoGraph.Card||{},NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),ProtoGraph.Card.toQuiz=function(){this.cardType="QuizApp"},ProtoGraph.Card.toQuiz.prototype.init=function(t){this.options=t},ProtoGraph.Card.toQuiz.prototype.getData=function(){return this.containerInstance.exportData()},ProtoGraph.Card.toQuiz.prototype.renderLaptop=function(){var t=this;this.mode="laptop",n.default.unmountComponentAtNode(this.options.selector),n.default.render(i.default.createElement(c.default,{dataURL:this.options.data_url,schemaURL:this.options.schema_url,configURL:this.options.configuration_url,configSchemaURL:this.options.configuration_schema_url,uiSchemaURL:this.options.ui_schema_url,baseURL:this.options.base_url,mode:this.mode,ref:function(e){t.containerInstance=t.containerInstance||e}}),this.options.selector)},ProtoGraph.Card.toQuiz.prototype.renderMobile=function(){var t=this;this.mode="mobile",n.default.unmountComponentAtNode(this.options.selector),n.default.render(i.default.createElement(c.default,{dataURL:this.options.data_url,schemaURL:this.options.schema_url,configURL:this.options.configuration_url,configSchemaURL:this.options.configuration_schema_url,uiSchemaURL:this.options.ui_schema_url,baseURL:this.options.base_url,mode:this.mode,ref:function(e){t.containerInstance=t.containerInstance||e}}),this.options.selector)},ProtoGraph.Card.toQuiz.prototype.renderScreenshot=function(){var t=this;this.mode="screenshot",n.default.render(i.default.createElement(c.default,{dataURL:this.options.data_url,schemaURL:this.options.schema_url,configURL:this.options.configuration_url,configSchemaURL:this.options.configuration_schema_url,uiSchemaURL:this.options.ui_schema_url,baseURL:this.options.base_url,mode:this.mode,ref:function(e){t.containerInstance=t.containerInstance||e}}),this.options.selector)}},function(t,e){t.exports=React},function(t,e){t.exports=ReactDOM},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,o,a){return o&&t(e.prototype,o),a&&t(e,a),e}}(),c=o(2),u=a(c),p=o(3),d=(a(p),o(5)),h=a(d),f=o(6),g=a(f),m=o(7),y=a(m),_=o(8),v=a(_),b=o(9),z=a(b),Q=o(10),S=a(Q),N=function(t){function e(t){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),a={fetchingData:!0,dataJSON:{data:{},mandatory_config:{}},schemaJSON:{},optionalConfigJSON:{},optionalConfigSchemaJSON:{},languageTexts:{},totalQuestions:0,score:0,rightCounter:0,sliderValue:0,timerCountValue:10,timePerQuestion:10,questionScore:1,timer:void 0,revisitingAnswers:!1,isMobile:"mobile"===o.props.mode};return o.props.dataJSON&&(a.fetchingData=!1,a.dataJSON=o.props.dataJSON),o.props.schemaJSON&&(a.schemaJSON=o.props.schemaJSON),o.props.optionalConfigJSON&&(a.optionalConfigJSON=o.props.optionalConfigJSON),o.props.optionalConfigSchemaJSON&&(a.optionalConfigSchemaJSON=o.props.optionalConfigSchemaJSON),o.props.totalQuestions&&(a.totalQuestions=o.props.totalQuestions),o.props.totalCards&&(a.totalCards=o.props.totalCards),o.props.languageTexts&&(a.languageTexts=o.props.languageTexts),o.props.timePerQuestion&&(a.timePerQuestion=o.props.timePerQuestion),o.props.timerCountValue&&(a.timerCountValue=o.props.timerCountValue),o.state=a,o}return s(e,t),l(e,[{key:"exportData",value:function(){return document.getElementById("protograph_toQuiz").getBoundingClientRect()}},{key:"componentWillReceiveProps",value:function(t){t.optionalConfigJSON&&this.setState({optionalConfigJSON:t.optionalConfigJSON})}},{key:"componentDidMount",value:function(){var t=this;this.state.fetchingData&&h.default.all([h.default.get(this.props.dataURL),h.default.get(this.props.schemaURL),h.default.get(this.props.configURL),h.default.get(this.props.configSchemaURL)]).then(h.default.spread(function(e,o,a,r){var i={fetchingData:!1,dataJSON:{data:e.data.data,mandatory_config:e.data.mandatory_config},schemaJSON:o.data,optionalConfigJSON:a.data,optionalConfigSchemaJSON:r.data};i.dataJSON.data.result_card_data=i.dataJSON.data.result_card_data&&i.dataJSON.data.result_card_data.length?t.processResultData(i.dataJSON.data.result_card_data,i.dataJSON.mandatory_config.quiz_type):void 0,i.totalQuestions=i.dataJSON.data.questions.length,i.totalCards=i.totalQuestions+2,i.languageTexts=t.getLanguageTexts(i.dataJSON.mandatory_config.language),i.dataJSON.mandatory_config.time_per_question&&(i.timePerQuestion=i.dataJSON.mandatory_config.time_per_question,i.timerCountValue=i.dataJSON.mandatory_config.time_per_question),t.setState(i)}))}},{key:"processResultData",value:function(t,e){var o=[];if("scoring"===e&&t[0].upper_limit_of_score_range){var a=g.default.groupBy(t,"upper_limit_of_score_range"),r=Object.keys(a);return r.forEach(function(t){var e={};a[t].forEach(function(t){Object.keys(e).length?e.related_articles.push({related_article_links:t.related_article_links,link_description:t.link_description,link_image:t.link_image}):e={upper_limit_of_score_range:t.upper_limit_of_score_range,message:t.message,related_articles:[{related_article_links:t.related_article_links,link_description:t.link_description,link_image:t.link_image}]}}),o.push(e)}),o.sort(function(t,e){return t.upper_limit_of_score_range-e.upper_limit_of_score_range}),o}return o.push({message:t[0].message,related_articles:t.map(function(t){return{related_article_links:t.related_article_links,link_description:t.link_description,link_image:t.link_image}})}),o}},{key:"getLanguageTexts",value:function(t){var e=t?t:"english",o=void 0;switch(e.toLowerCase()){case"hindi":o={question_title:"प्रश्न ",ans_title:"उत्तर",next:"अगला प्रश्न",swipe:"अगले प्रश्न के लिए ऊपर स्वाइप करें या यहां टैप करें",revisit_answers:"उत्तर फिर से देखें",social_share:"शेयर",go_back:"वापस",starting_quiz:"प्रश्नोत्तरी शुरू होता है",related_articles:"संबंधित आलेख",timed_out:"समय समााप्त!",correct:"सही",wrong:"गलत",message:"धन्यवाद!",play_again:"पुनः खेलें",oops:"उफ़!",times_up:"समय समाप्त",slider_text:"प्रश्नों के बीच चलने के लिए स्लाइडर का उपयोग करें",fetching_questions:"सवाल ला रहा है ...",font:"'Hindi', sans-serif"};break;default:o={question_title:"Question ",ans_title:"ANSWER",next:"Next",swipe:"Swipe up for next question or tap here",revisit_answers:"Revisit Answers",social_share:"Share",go_back:"Go Back",starting_quiz:"Starting your quiz in",related_articles:"RELATED ARTICLES",timed_out:"Timed out!",correct:"Correct",wrong:"Wrong",message:"Thank you!",play_again:"Play Again",oops:"Oops!",times_up:"Times's up",slider_text:"use slider to move between questions",fetching_questions:"Fetching Questions ...",font:"'Helvetica Neue', sans-serif, aerial"}}return"object"===("undefined"==typeof o?"undefined":n(o))&&(o.next=o.next,o.restart=o.restart,o.swipe=o.swipe),o}},{key:"formatNumber",value:function(t){return t>9?""+t:"0"+t}},{key:"startCountdown",value:function(){var t=document.querySelector(".protograph-toQuiz-intro-card .protograph-toQuiz-countdown-counter"),e=void 0,o=3;e=setInterval(function(){o--,o>0?t.innerHTML=o:0===o?t.innerHTML="GO":clearInterval(e)},1e3)}},{key:"startQuiz",value:function(t){var e=this,o=(document.querySelector(".protograph-toQuiz-intro-button"),document.querySelector(".protograph-toQuiz-intro-card")),a=document.querySelector(".protograph-toQuiz-intro-front"),r=document.querySelector(".protograph-toQuiz-question-card[data-order='0']"),i=this.state.totalQuestions,s=this.state.dataJSON.mandatory_config;a.style.display="none",document.querySelector(".protograph-toQuiz-intro-back").style.display="block",this.state.isMobile||(t.target.style.visibility="hidden",document.querySelector(".protograph-toQuiz-intro-cover").style.display="block"),o.classList.add("protograph-toQuiz-clicked"),this.startCountdown(),setTimeout(function(){o.style.top="-1000px",("scoring"!==s.quiz_type||s.flip_card)&&(r.querySelector(".protograph-toQuiz-back").style.display="none"),r.classList.add("protograph-toQuiz-active"),r.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, 160, 0, 1)";for(var t=1;t<i;t++){var a=document.querySelector(".protograph-toQuiz-question-card[data-order='"+t+"']");a.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*t)+", "+320*t*-1+", "+(1+.08*t)+")",t>2?a.style.opacity=0:a.style.opacity=1}var n=document.querySelector(".protograph-toQuiz-conclusion-card");n.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*i)+", "+320*i*-1+", "+(1+.08*i)+")",i<3&&(n.style.opacity=1),"scoring"===s.quiz_type&&s.timer&&e.setTimer()},4e3)}},{key:"optionClicked",value:function(t){var e=this,o=document.querySelector(".protograph-toQuiz-question-card.protograph-toQuiz-active"),a=this.state.dataJSON.mandatory_config,r=(this.state.totalQuestions,this.state.dataJSON.data.questions[+o.getAttribute("data-order")]),i=r.options[+t.target.getAttribute("data-option-id")];"scoring"===a.quiz_type&&(a.timer&&(this.clearTimer(),a.flip_card||(o.querySelector(".protograph-toQuiz-front .protograph-toQuiz-timer").style.display="none")),i.right_or_wrong?(this.setState(function(t,o){return{right_counter:t.right_counter+1,score:t.score+e.state.questionScore}}),this.flashCorrectIndicator()):this.flashWrongIndicator()),this.addOptionBasedContent(i),t.stopPropagation()}},{key:"addOptionBasedContent",value:function(t){var e=document.querySelector(".protograph-toQuiz-question-card.protograph-toQuiz-active"),o=e.querySelector(".protograph-toQuiz-content"),a=(e.getAttribute("data-order"),this.state.dataJSON.mandatory_config);if(e.setAttribute("data-isNavigable",1),"scoring"!==a.quiz_type||a.flip_card){var r=o.querySelector(".protograph-toQuiz-back");"scoring"===a.quiz_type?setTimeout(function(){e.classList.add("protograph-toQuiz-clicked"),t.right_or_wrong?(r.querySelector(".protograph-toQuiz-wrong-answer").style.display="none",r.querySelector(".protograph-toQuiz-correct-answer").classList.remove("protograph-toQuiz-deselected")):(r.querySelector(".protograph-toQuiz-wrong-answer").style.display="block",r.querySelector(".protograph-toQuiz-wrong-answer .protograph-toQuiz-option-text").innerHTML=t.option,r.querySelector(".protograph-toQuiz-correct-answer").classList.add("protograph-toQuiz-deselected")),setTimeout(function(){o.querySelector(".protograph-toQuiz-front").style.display="none",r.style.display="block"},100)},1100):(e.classList.add("protograph-toQuiz-clicked"),setTimeout(function(){o.querySelector(".protograph-toQuiz-front").style.display="none",r.style.display="block"},100),r.querySelector(".protograph-toQuiz-correct-answer").innerHTML=t.option),t.gif_image&&t.gif_image.image?(r.querySelector(".protograph-toQuiz-gif-div").style.display="block",r.querySelector(".protograph-toQuiz-gif").onload=function(t){var e=t.target.offsetWidth,o=r.querySelector(".protograph-toQuiz-gif-div").offsetWidth,a=o-20;e>=a&&(t.target.style.width=a+"px")},r.querySelector(".protograph-toQuiz-gif").setAttribute("src",t.gif_image.image)):r.querySelector(".protograph-toQuiz-gif-div").style.display="none",t.fact?(r.querySelector(".protograph-toQuiz-fact").style.display="block",r.querySelector(".protograph-toQuiz-fact").innerHTML="",r.querySelector(".protograph-toQuiz-fact").appendChild(document.createTextNode(t.fact))):r.querySelector(".protograph-toQuiz-fact").style.display="none"}else if("scoring"===a.quiz_type){for(var i=o.querySelectorAll(".protograph-toQuiz-option-div"),s=o.querySelector(".protograph-toQuiz-front"),n=0;n<i.length;n++)i[n].style.display="none";s.querySelector(".protograph-toQuiz-question").style.color="#a8a8a8",s.querySelector(".protograph-toQuiz-title").style.display="block",s.querySelector(".protograph-toQuiz-answers-container").style.display="block",this.state.isMobile?s.querySelector(".protograph-toQuiz-swipe-hint-container").style.display="block":s.querySelector(".protograph-toQuiz-next-container").style.display="block",t.right_or_wrong?(s.querySelector(".protograph-toQuiz-wrong-answer").style.display="none",s.querySelector(".protograph-toQuiz-correct-answer").classList.remove("protograph-toQuiz-deselected")):(s.querySelector(".protograph-toQuiz-wrong-answer").style.display="block",s.querySelector(".protograph-toQuiz-wrong-answer .protograph-toQuiz-option-text").innerHTML=t.option,s.querySelector(".protograph-toQuiz-correct-answer").classList.add("protograph-toQuiz-deselected"))}}},{key:"swipeCallback",value:function(t){if(!this.state.revisitAnswers){var e=document.querySelector(".protograph-toQuiz-question-card.protograph-toQuiz-active"),o=+e.getAttribute("data-order"),a=document.querySelector(".protograph-toQuiz-main-container").offsetWidth,r=document.querySelector(".protograph-toQuiz-question-card[data-order='"+(o+1)+"']"),i=this.state.dataJSON.mandatory_config,s=this.state.totalQuestions,n=void 0;if(+e.getAttribute("data-isNavigable")){switch(r?("scoring"===i.quiz_type&&i.timer&&(this.setState({timerCountValue:this.state.timePerQuestion}),this.setTimer()),r.classList.add("protograph-toQuiz-active"),("scoring"!==i.quiz_type||i.flip_card)&&(n=r.querySelector(".protograph-toQuiz-back"),n.style.display="none")):(document.querySelectorAll(".protograph-toQuiz-progress-bar").forEach(function(t){t.style.display="none"}),"scoring"!==i.quiz_type||i.flip_card?(document.querySelectorAll(".protograph-toQuiz-question-card .protograph-toQuiz-back .protograph-toQuiz-swipe-hint-container").forEach(function(t){t.style.display="none"}),document.querySelectorAll(".protograph-toQuiz-question-card .protograph-toQuiz-back .protograph-toQuiz-next-container").forEach(function(t){t.style.display="none"})):(document.querySelectorAll(".protograph-toQuiz-question-card .protograph-toQuiz-front .protograph-toQuiz-swipe-hint-container").forEach(function(t){t.style.display="none"}),document.querySelectorAll(".protograph-toQuiz-question-card .protograph-toQuiz-front .protograph-toQuiz-next-container").forEach(function(t){t.style.display="none"}))),e.classList.remove("protograph-toQuiz-active"),t){case"left":e.style.left="-1000px";break;case"right":e.style.left=a+500+"px";break;case"up":e.style.top="-1000px"}for(var l=o+1;l<s;l++){var c=document.querySelector(".protograph-toQuiz-question-card[data-order='"+l+"']"),u=l-o-1;c.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*u)+", "+320*u*-1+", "+(1+.08*u)+")",l-o<4&&(c.style.opacity=1)}var p=document.querySelector(".protograph-toQuiz-conclusion-card"),d=s-o-1;p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*d)+", "+320*d*-1+", "+(1+.08*d)+")",s-o<4&&(p.style.opacity=1)}}}},{key:"touchEndHandler",value:function(t){var e=this;y.default.swipeEnd(t,function(t){console.log("swipeLeft")},function(t){console.log("swipeRight")},function(t){e.swipeCallback("up")},function(t){console.log("swipeRight")})}},{key:"resetQuiz",value:function(t){this.setState({right_counter:0,score:0,timer:void 0,revisitAnswers:!1});var e=document.querySelector(".protograph-toQuiz-question-card.protograph-toQuiz-active"),o=document.querySelectorAll(".protograph-toQuiz-question-card"),a=this.state.totalQuestions,r=this.state.dataJSON.mandatory_config,i=void 0;for(e&&e.classList.remove("protograph-toQuiz-active"),i=0;i<o.length;i++){var s=o[i],n=s.querySelector(".protograph-toQuiz-front"),l=void 0;if(s.classList.remove("protograph-toQuiz-clicked"),s.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*i)+", "+320*i*-1+", "+(1+.08*i)+")",s.style.display="block",n.style.display="block",s.style.top="0px",s.setAttribute("data-isNavigable",0),i<3?s.style.opacity=1:s.style.opacity=0,"scoring"!==r.quiz_type||r.flip_card){if(s.querySelector(".protograph-toQuiz-back").style.display="none",this.state.isMobile){var c=s.querySelector(".protograph-toQuiz-back .protograph-toQuiz-swipe-hint-container");c.style.display="block"}else{var u=s.querySelector(".protograph-toQuiz-back .protograph-toQuiz-next-container");u.style.display="block"}"scoring"===r.quiz_type&&r.timer&&(s.querySelector(".protograph-toQuiz-timeout-msg").style.display="none")}else{l=n.querySelectorAll(".protograph-toQuiz-option-div");for(var p=0;p<l.length;p++)l[p].style.display="block";n.querySelector(".protograph-toQuiz-question").style.color="black",n.querySelector(".protograph-toQuiz-title").style.display="none",n.querySelector(".protograph-toQuiz-answers-container").style.display="none",this.state.isMobile?n.querySelector(".protograph-toQuiz-swipe-hint-container").style.display="none":n.querySelector(".protograph-toQuiz-next-container").style.display="none",r.timer&&(n.querySelector(".protograph-toQuiz-timer").style.display="block",n.querySelector(".protograph-toQuiz-timeout-msg").style.display="none")}}document.querySelector(".protograph-toQuiz-question-card[data-order='0']").classList.add("protograph-toQuiz-active");var d=document.querySelector(".protograph-toQuiz-conclusion-card"),h=document.querySelectorAll(".protograph-toQuiz-progress-bar");d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*a)+", "+320*a*-1+", "+(1+.08*a)+")",a<3?d.style.opacity=1:d.style.opacity=0,h.forEach(function(t){t.style.display="block"}),this.hideSlider(),"scoring"===r.quiz_type&&r.timer&&(this.setState({timerCountValue:this.state.timePerQuestion}),this.setTimer())}},{key:"revisitAnswers",value:function(t){this.showSlider(),this.slideCallback(0),this.setState({revisitAnswers:!0}),document.querySelectorAll(".protograph-toQuiz-question-card").forEach(function(t){t.setAttribute("data-isNavigable",0)})}},{key:"slideCallback",value:function(t){this.setState({sliderValue:t});var e=document.querySelector(".protograph-toQuiz-card-slider"),o=parseFloat(e.style.width),a=(document.querySelector(".protograph-toQuiz-slider-hint"),document.querySelector(".protograph-toQuiz-slider-card-no")),r=this.state.totalQuestions,i=t/r*100,s=document.querySelector(".protograph-toQuiz-conclusion-card");e.style.background="linear-gradient(to right, #D6EDFF 0%, #168BE5 "+i+"%, #EEE "+i+"%)",isNaN(o)&&(o=270),a.innerHTML=+t+1>r?"":+t+1,a.style.left=t/r*(o-16)+4+"px";for(var n=function(e){var o=document.querySelector(".protograph-toQuiz-question-card[data-order='"+e+"']");if(e<t)o.style.top="-1000px";else{var a=e-t;o.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*a)+", "+320*e*-1+", "+(1+.08*a)+")",o.style.display="block",o.style.top="0px",e-t<3?setTimeout(function(){o.style.opacity=1},300):setTimeout(function(){o.style.opacity=0},300)}},l=0;l<r;l++)n(l);s.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*(r-t))+", "+320*r*-1+", "+(1+.08*(r-t))+")",r-t<3?setTimeout(function(){s.style.opacity=1},300):setTimeout(function(){s.style.opacity=0},300)}},{key:"socialShare",value:function(t){var e=document.querySelector(".protograph-toQuiz-conclusion-card"),o=document.querySelector(".protograph-toQuiz-conclusion-front"),a=document.querySelector(".protograph-toQuiz-conclusion-back");this.setState({revisitAnswers:!1}),this.state.revisitAnswers&&this.hideSlider(),e.classList.add("protograph-toQuiz-clicked"),setTimeout(function(){o.style.display="none"},300),a.style.display="block"}},{key:"setTimer",value:function(){var t=this;this.state.timer&&this.clearTimer();var e=this.state.timePerQuestion,o=document.querySelector(".protograph-toQuiz-question-card.protograph-toQuiz-active"),a=+o.getAttribute("data-order-id"),r=this.state.dataJSON.data.questions[a].options;this.setState({questionScore:e});var i=setInterval(function(){e--,t.setState({timerCountValue:e,questionScore:e}),0===e&&(t.clearTimer(),t.flashTimeUpIndicator(),t.state.dataJSON.mandatory_config.flip_card||(document.querySelector(".protograph-toQuiz-question-card.protograph-toQuiz-active .protograph-toQuiz-front .protograph-toQuiz-timer").style.display="none"),document.querySelector(".protograph-toQuiz-question-card.protograph-toQuiz-active .protograph-toQuiz-timeout-msg").style.display="block",t.addOptionBasedContent(r.filter(function(t){return t.right_or_wrong===!0})[0]))},1e3);this.setState({timer:i})}},{key:"clearTimer",value:function(){clearInterval(this.state.timer),this.setState({timer:void 0})}},{key:"calculateTime",value:function(t){var e={sec:30,min:0};return"number"==typeof t&&(e.sec=this.formatNumber(t%60),e.min=this.formatNumber(Math.floor(t/60)%60)),e}},{key:"sliderMousedownCallback",value:function(t){t.stopPropagation(),document.querySelector(".protograph-toQuiz-slider-hint").style.visibility="hidden",document.querySelector(".protograph-toQuiz-slider-card-no").style.display="block"}},{key:"resetSlider",value:function(t){var e=document.querySelector(".protograph-toQuiz-card-slider");e.setAttribute("value",t),e.style.background="linear-gradient(to right, #D6EDFF 0%, #168BE5 100%, #EEE 100%)"}},{key:"showSlider",value:function(){document.querySelector(".protograph-toQuiz-card-slider").style.display="block",document.querySelector(".protograph-toQuiz-slider-container").style.display="block"}},{key:"hideSlider",value:function(){document.querySelector(".protograph-toQuiz-card-slider").style.display="none",document.querySelector(".protograph-toQuiz-slider-container").style.display="none"}},{key:"flashCorrectIndicator",value:function(){document.querySelector("#correct_indicator").style.display="block",setTimeout(function(){document.querySelector("#correct_indicator").style.display="none"},1e3)}},{key:"flashWrongIndicator",value:function(){document.querySelector("#wrong_indicator").style.display="block",setTimeout(function(){document.querySelector("#wrong_indicator").style.display="none"},1e3)}},{key:"flashTimeUpIndicator",value:function(){document.querySelector("#time_out_indicator").style.display="block",setTimeout(function(){document.querySelector("#time_out_indicator").style.display="none"},1e3)}},{key:"renderIntroCard",value:function(){var t=this,e={},o={},a=this.state.dataJSON.data,r={background_image:a.basic_datapoints.background_image.image,quiz_title:a.basic_datapoints.quiz_title,introduction:a.basic_datapoints.introduction,start_button_text:a.basic_datapoints.start_button_text,start_button_color:this.state.optionalConfigJSON.start_button_color,start_button_text_color:this.state.optionalConfigJSON.start_button_text_color};return r.start_button_color?e.backgroundColor=r.start_button_color:void 0,r.start_button_text_color?e.color=r.start_button_text_color:void 0,r.background_image&&(o.backgroundImage="url("+r.background_image+")"),u.default.createElement("div",{className:"protograph-toQuiz-intro-container"},u.default.createElement("div",{id:"screenshot"===this.props.mode?"ProtoScreenshot":void 0,className:""+(r.background_image||"laptop"===this.state.mode?"protograph-toQuiz-intro-content protograph-toQuiz-with-image":"protograph-toQuiz-intro-content")},u.default.createElement("div",{className:""+(r.background_image&&this.state.isMobile?"protograph-toQuiz-intro-header protograph-toQuiz-with-image":"protograph-toQuiz-intro-header")},r.quiz_title),u.default.createElement("div",{className:""+(r.background_image&&this.state.isMobile?"protograph-toQuiz-intro-description protograph-toQuiz-with-image":"protograph-toQuiz-intro-description")},r.introduction),u.default.createElement("div",{className:"protograph-toQuiz-intro-button-div"},u.default.createElement("button",{className:"protograph-toQuiz-intro-button",onClick:function(e){return t.startQuiz(e)},style:e},r.start_button_text))),u.default.createElement("div",{className:"protograph-toQuiz-intro-cover"}))}},{key:"renderCorrectIndicator",value:function(){return u.default.createElement("div",{id:"correct_indicator",className:"protograph-toQuiz-correct-wrong-indicator protograph-toQuiz-correct-background"},u.default.createElement("div",{className:"protograph-toQuiz-tick-background"},u.default.createElement("span",{className:"protograph-toQuiz-correct-tick"},"✔︎")),u.default.createElement("div",{className:"protograph-toQuiz-correct-wrong-text"},this.state.languageTexts.correct))}},{key:"renderWrongIndicator",value:function(){return u.default.createElement("div",{id:"wrong_indicator",className:"protograph-toQuiz-correct-wrong-indicator protograph-toQuiz-wrong-background"},u.default.createElement("div",{className:"protograph-toQuiz-tick-background protograph-toQuiz-wrong-tick"},u.default.createElement("span",null,"✗︎")),u.default.createElement("div",{className:"protograph-toQuiz-correct-wrong-text protograph-toQuiz-wrong"},this.state.languageTexts.wrong))}},{key:"renderTimeOutIndicator",value:function(){return u.default.createElement("div",{id:"time_out_indicator",className:"protograph-toQuiz-time-out-indicator"},u.default.createElement("div",{className:"protograph-toQuiz-time-out-content"},u.default.createElement("div",{className:"protograph-toQuiz-clock-icon"},u.default.createElement("img",{src:this.props.baseURL+"/images/clock-large.png"})),u.default.createElement("div",{className:"protograph-toQuiz-time-value"},"00:00"),u.default.createElement("div",{className:"protograph-toQuiz-oops-msg"},this.state.languageTexts.oops),u.default.createElement("div",{className:"protograph-toQuiz-times-up-msg"},this.state.languageTexts.times_up)))}},{key:"renderMainContainerContent",value:function(t){var e=this,o={resetQuiz:function(t){return e.resetQuiz(t)},revisitAnswers:function(t){return e.revisitAnswers(t)},socialShare:function(t){return e.socialShare(t)}},a=this.state.dataJSON.data,r={background_image:a.basic_datapoints.background_image.image,quiz_title:a.basic_datapoints.quiz_title,introduction:a.basic_datapoints.introduction,start_button_text:a.basic_datapoints.start_button_text,start_button_color:this.state.optionalConfigJSON.start_button_color,start_button_text_color:this.state.optionalConfigJSON.start_button_text_color},i=this.state.dataJSON.mandatory_config;return i.share_msg=a.basic_datapoints.share_msg,i.share_link=a.basic_datapoints.share_link,u.default.createElement("div",{id:"protograph_toQuiz",className:"protograph-toQuiz-quiz-container",style:{fontFamily:this.state.languageTexts.font}},u.default.createElement("div",{className:"protograph-toQuiz-quiz-content"},("laptop"===this.props.mode||"edit"===this.props.mode)&&this.renderIntroCard(),u.default.createElement("div",{id:"main_container",className:"protograph-toQuiz-main-container"},u.default.createElement("div",{id:"fb-root"}),this.renderCorrectIndicator(),this.renderWrongIndicator(),this.renderTimeOutIndicator(),u.default.createElement(v.default,{introCardConfigs:r,startQuiz:function(t){return e.startQuiz(t)},totalQuestions:this.state.totalQuestions,isMobile:this.state.isMobile,languageTexts:this.state.languageTexts}),u.default.createElement("div",{id:"card_stack",className:"protograph-toQuiz-card-stack"},t,this.state.isMobile?u.default.createElement("div",{className:"protograph-toQuiz-help-text",id:"help_text"},this.state.languageTexts.swipe):void 0),u.default.createElement(z.default,{introCardConfigs:r,cardConfigs:this.state.dataJSON.mandatory_config,resultCardConfigs:this.state.dataJSON.data.result_card_data,totalQuestions:this.state.totalQuestions,languageTexts:this.state.languageTexts,score:this.state.score,cardEvents:o,baseURL:this.props.baseURL}),u.default.createElement("div",{className:"protograph-toQuiz-slider-container"},u.default.createElement("div",{className:"protograph-toQuiz-slider-hint"},this.state.languageTexts.slider_text),u.default.createElement("span",{className:"protograph-toQuiz-slider-card-no"},"5"),u.default.createElement("input",{className:"protograph-toQuiz-card-slider",name:"card_slider",type:"range",step:"1",min:"0",max:this.state.totalQuestions,value:this.state.sliderValue,onInput:function(t){e.slideCallback(t.target.value)},onMouseDown:this.state.isMobile?void 0:function(t){return e.sliderMousedownCallback(t)},onTouchStart:this.state.isMobile?function(t){return e.sliderMousedownCallback(t)}:void 0})))))}},{key:"renderQuiz",value:function(){var t=this;if(this.state.fetchingData)return u.default.createElement("div",{className:"protograph-toQuiz-quiz-container",style:{fontFamily:this.state.languageTexts.font}},u.default.createElement("div",{className:"protograph-toQuiz-loading-card",style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"white",opacity:1,zIndex:500}},u.default.createElement("span",{className:"protograph-toQuiz-loading-text",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",textAlign:"center"}},this.state.languageTexts.fetching_questions)));var e=140,o=-320,a=1.08,r=this.state.dataJSON.data.questions?this.state.dataJSON.data.questions:[],i=void 0;return i=r.map(function(r,i){var s={},n={};return s.zIndex=t.state.totalQuestions-i,s.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+e+", "+o+", "+a+")",i<2?s.opacity=1:s.opacity=0,e-=20,o-=320,a+=.08,n.optionClick=function(e){return t.optionClicked(e)},t.state.isMobile?(n.onTouchStart=function(t){return y.default.swipeStart(t)},n.onTouchMove=function(t){return y.default.swipeMove(t)},n.onTouchEnd=function(e){return t.touchEndHandler(e)},n.nextCard=function(e){t.swipeCallback("up"),e.stopPropagation()}):n.nextCard=function(e){return t.swipeCallback("up")},u.default.createElement(S.default,{key:i,cardNo:i,questionNo:t.formatNumber(i+1),cardStyle:s,cardData:t.state.dataJSON.data.questions[i],cardEvents:n,cardConfigs:t.state.dataJSON.mandatory_config,languageTexts:t.state.languageTexts,totalQuestions:t.formatNumber(t.state.totalQuestions),isMobile:t.state.isMobile,timerValue:t.calculateTime(t.state.timerCountValue),baseURL:t.props.baseURL})}),this.renderMainContainerContent(i)}},{key:"renderScreenshot",value:function(){return this.state.fetchingData?u.default.createElement("div",{className:"protograph-toQuiz-quiz-container",style:{fontFamily:this.state.languageTexts.font}},u.default.createElement("div",{className:"protograph-toQuiz-loading-card",style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"white",opacity:1,zIndex:500}},u.default.createElement("span",{className:"protograph-toQuiz-loading-text",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",textAlign:"center"}},this.state.languageTexts.fetching_questions))):u.default.createElement("div",{className:"protograph-toQuiz-quiz-container",style:{fontFamily:this.state.languageTexts.font}},u.default.createElement("div",{className:"protograph-toQuiz-quiz-content"},this.renderIntroCard()))}},{key:"render",value:function(){switch(this.props.mode){case"laptop":return this.renderQuiz();case"mobile":return this.renderQuiz();case"tablet":return this.renderQuiz();case"screenshot":return this.renderScreenshot()}}}]),e}(u.default.Component);e.default=N},function(t,e){
t.exports=axios},function(t,e){"use strict";function o(t,e){var o={};switch("undefined"==typeof e?"undefined":i(e)){case"string":t.forEach(function(t){o[t[e]]?o[t[e]].push(t):o[t[e]]=[t]});break;case"function":t.forEach(function(t){var a=e(t);o[a]?o[a].push(t):o[a]=[t]})}return o}function a(t){var e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);return null==e?null:e[1]||0}function r(t){for(var e=t.innerHTML.split(" ");t.scrollHeight>t.offsetHeight;)e.pop(),t.innerHTML=e.join(" ")+"..."}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports={groupBy:o,getURLParam:a,multiLineTruncate:r}},function(t,e){"use strict";function o(t){t=t?t:window.event,t="changedTouches"in t?t.changedTouches[0]:t,i={x:t.pageX,y:t.pageY},h=(new Date).getTime()}function a(t){t=t?t:window.event,t.preventDefault()}function r(t,e,o,a,r){if(t=t?t:window.event,t="changedTouches"in t?t.changedTouches[0]:t,s={x:t.pageX-i.x,y:t.pageY-i.y},f=(new Date).getTime()-h,f<=d)if(Math.abs(s.x)>=l&&Math.abs(s.y)<=c)switch(n=s.x<0?"left":"right"){case"left":e(t);break;case"right":o(t)}else if(Math.abs(s.y)>=u&&Math.abs(s.x)<=p)switch(n=s.y<0?"up":"down"){case"up":a(t);break;case"down":r(t)}}var i={x:-1,y:-1},s={x:-1,y:-1},n="undefined",l=30,c=30,u=30,p=30,d=1e3,h=0,f=0;t.exports={swipeStart:o,swipeEnd:r,swipeMove:a}},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,o,a){return o&&t(e.prototype,o),a&&t(e,a),e}}(),l=o(2),c=a(l),u=o(3),p=(a(u),function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),n(e,[{key:"render",value:function(){var t={},e={},o={},a=this.props.languageTexts;return this.props.introCardConfigs.start_button_color?t.backgroundColor=this.props.introCardConfigs.start_button_color:void 0,this.props.introCardConfigs.start_button_text_color?t.color=this.props.introCardConfigs.start_button_text_color:void 0,e.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, 160, 0, 1)",this.props.introCardConfigs.background_image&&(o.backgroundImage="url("+this.props.introCardConfigs.background_image+")"),c.default.createElement("div",{className:"protograph-toQuiz-intro-card",style:e},c.default.createElement("div",{className:"protograph-toQuiz-content"},c.default.createElement("div",{className:"protograph-toQuiz-intro-front",style:o},c.default.createElement("div",{className:"protograph-toQuiz-intro-gradient"}),this.props.isMobile&&c.default.createElement("div",{className:""+(this.props.introCardConfigs.background_image?"protograph-toQuiz-intro-content protograph-toQuiz-with-image":"protograph-toQuiz-intro-content")},c.default.createElement("div",{className:""+(this.props.introCardConfigs.background_image&&this.props.isMobile?"protograph-toQuiz-intro-header protograph-toQuiz-with-image":"protograph-toQuiz-intro-header")},this.props.introCardConfigs.quiz_title),c.default.createElement("div",{className:""+(this.props.introCardConfigs.background_image&&this.props.isMobile?"protograph-toQuiz-intro-description protograph-toQuiz-with-image":"protograph-toQuiz-intro-description")},this.props.introCardConfigs.introduction),c.default.createElement("div",{className:"protograph-toQuiz-intro-button-div"},c.default.createElement("button",{className:"protograph-toQuiz-intro-button",onClick:this.props.startQuiz,style:t},this.props.introCardConfigs.start_button_text))),c.default.createElement("div",{className:"protograph-toQuiz-credits",id:"credits"},c.default.createElement("a",{href:"https://pykih.com/open-tools/quizjs",target:"blank"},"Created by : ICFJ | Pykih"))),c.default.createElement("div",{className:"protograph-toQuiz-intro-back"},c.default.createElement("div",{className:"protograph-toQuiz-countdown-content"},c.default.createElement("div",{className:"protograph-toQuiz-countdown-text"},a.starting_quiz),c.default.createElement("div",{className:"protograph-toQuiz-countdown-counter"},"3")))))}}]),e}(c.default.Component));e.default=p},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,o,a){return o&&t(e.prototype,o),a&&t(e,a),e}}(),l=o(2),c=a(l),u=o(3),p=(a(u),function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),n(e,[{key:"componentDidMount",value:function(){this.props.cardConfigs.social_share&&setTimeout(function(){window.twttr=function(t,e,o){var a,r=t.getElementsByTagName(e)[0],i=window.twttr||{};return t.getElementById(o)?i:(a=t.createElement(e),a.id=o,a.src="https://platform.twitter.com/widgets.js",r.parentNode.insertBefore(a,r),i._e=[],i.ready=function(t){i._e.push(t)},i)}(document,"script","twitter-wjs"),function(t,e,o){var a,r=t.getElementsByTagName(e)[0];t.getElementById(o)||(a=t.createElement(e),a.id=o,a.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8",r.parentNode.insertBefore(a,r))}(document,"script","facebook-jssdk")},500)}},{key:"goBack",value:function(t){var e=document.querySelector(".protograph-toQuiz-conclusion-card"),o=document.querySelector(".protograph-toQuiz-conclusion-front"),a=document.querySelector(".protograph-toQuiz-conclusion-back");o.style.display="block",setTimeout(function(t){a.style.display="none"},100),e.classList.remove("protograph-toQuiz-clicked")}},{key:"renderReadingLinks",value:function(){var t=this,e=this.props.resultCardConfigs,o=e[0].upper_limit_of_score_range,a=this.props.cardConfigs,r=void 0,i=this.props.languageTexts.message;if("scoring"===a.quiz_type&&o){var s=e.filter(function(e){return t.props.score<=e.upper_limit_of_score_range})[0];if(s){i=s.message;var n=s.related_articles.length>2?s.related_articles.slice(0,2):s.related_articles;r=n.map(function(t,e){return c.default.createElement("div",{key:e,className:"protograph-toQuiz-single-link-container"},c.default.createElement("a",{className:"protograph-toQuiz-single-link",href:""+t.related_article_links,target:"blank"},t.related_article_links?c.default.createElement("img",{src:""+t.link_image.image,className:"protograph-toQuiz-link-img"}):void 0,c.default.createElement("div",{className:"protograph-toQuiz-link-info "+(t.related_article_links?"":"protograph-toQuiz-link-info-full-width")},c.default.createElement("div",{className:"protograph-toQuiz-link-title"},t.link_description))),c.default.createElement("div",{className:"protograph-toQuiz-clearfix"}))})}}else e.map(function(t){var e=t.related_articles.length>2?t.related_articles.slice(0,2):t.related_articles;r=e.map(function(t,e){return c.default.createElement("div",{key:e,className:"protograph-toQuiz-single-link-container"},c.default.createElement("a",{className:"protograph-toQuiz-single-link",href:""+t.related_article_links,target:"blank"},t.related_article_links?c.default.createElement("img",{src:""+t.link_image.image,className:"protograph-toQuiz-link-img"}):void 0,c.default.createElement("div",{className:"protograph-toQuiz-link-info "+(t.related_article_links?"":"protograph-toQuiz-link-info-full-width")},c.default.createElement("div",{className:"protograph-toQuiz-link-title"},t.link_description))),c.default.createElement("div",{className:"protograph-toQuiz-clearfix"}))})});return{links:r,message:i}}},{key:"render",value:function(){var t=this,e={},o="",a="",r="",i=void 0,s=this.props.languageTexts,n=s.message,l=void 0;return this.props.resultCardConfigs&&this.props.resultCardConfigs.length&&(l=this.renderReadingLinks(),i=l.links,n=l.message),e.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*(+this.props.totalQuestions+1))+", "+320*(+this.props.totalQuestions+1)*-1+", "+(1+.08*(+this.props.totalQuestions+1))+")",+this.props.totalQuestions>1&&(e.opacity=0),this.props.cardConfigs.social_share||(a="protograph-toQuiz-half-size"),this.props.cardConfigs.revisit_answers===!1&&this.props.cardConfigs.social_share===!1?o="protograph-toQuiz-full-size":this.props.cardConfigs.revisit_answers!==!1&&this.props.cardConfigs.social_share!==!1||(o="protograph-toQuiz-half-size"),this.props.cardConfigs.revisit_answers||(r="protograph-toQuiz-half-size"),c.default.createElement("div",{className:"protograph-toQuiz-conclusion-card",style:e},c.default.createElement("div",{className:"protograph-toQuiz-content"},c.default.createElement("div",{className:"protograph-toQuiz-conclusion-front"},c.default.createElement("div",{id:"result_container",className:"protograph-toQuiz-result-container"},c.default.createElement("img",{className:"protograph-toQuiz-result-img",src:this.props.baseURL+"/images/cup.png"}),c.default.createElement("div",{className:"protograph-toQuiz-result-text"},n),"scoring"===this.props.cardConfigs.quiz_type&&c.default.createElement("div",{className:"protograph-toQuiz-result-score"},this.props.cardConfigs.timer?this.props.score+" / "+this.props.totalQuestions*this.props.cardConfigs.time_per_question:this.props.score+" / "+ +this.props.totalQuestions)),c.default.createElement("div",{id:"buttons_container",className:"protograph-toQuiz-buttons-container"},this.props.cardConfigs.revisit_answers?c.default.createElement("div",{id:"revisit",className:"protograph-toQuiz-revisit protograph-toQuiz-card-button "+a,onClick:this.props.cardEvents.revisitAnswers},c.default.createElement("img",{className:"protograph-toQuiz-card-button-img",src:this.props.baseURL+"/images/revisit-icon.png"}),c.default.createElement("div",{className:"protograph-toQuiz-card-button-text"},s.revisit_answers)):void 0,c.default.createElement("div",{id:"replay",className:"protograph-toQuiz-replay protograph-toQuiz-card-button "+o,onClick:this.props.cardEvents.resetQuiz},c.default.createElement("img",{className:"protograph-toQuiz-card-button-img",src:this.props.baseURL+"/images/replay.png"}),c.default.createElement("div",{className:"protograph-toQuiz-card-button-text"},s.play_again)),this.props.cardConfigs.social_share?c.default.createElement("div",{id:"share",className:"protograph-toQuiz-share protograph-toQuiz-card-button "+r,onClick:this.props.cardEvents.socialShare},c.default.createElement("img",{className:"protograph-toQuiz-card-button-img",src:this.props.baseURL+"/images/share.png"}),c.default.createElement("div",{className:"protograph-toQuiz-card-button-text"},s.social_share)):void 0,c.default.createElement("div",{className:"protograph-toQuiz-clearfix"})),i&&i.length>0&&c.default.createElement("div",{className:"protograph-toQuiz-links-container"},c.default.createElement("div",{className:"protograph-toQuiz-related-links-title"},s.related_articles),c.default.createElement("div",{className:"protograph-toQuiz-related-links-content"},i)),c.default.createElement("div",{id:"credits",className:"protograph-toQuiz-credits"},c.default.createElement("a",{href:"https://pykih.com/open-tools/quizjs",target:"blank"},"Created by : ICFJ | Pykih"))),this.props.cardConfigs.social_share&&c.default.createElement("div",{className:"protograph-toQuiz-conclusion-back"},c.default.createElement("div",{className:"protograph-toQuiz-share-card"},c.default.createElement("div",{className:"protograph-toQuiz-share-image-div",style:{backgroundImage:"url('"+this.props.introCardConfigs.background_image+"')"}},c.default.createElement("div",{className:"protograph-toQuiz-share-title",style:{color:"white"}},this.props.introCardConfigs.quiz_title)),c.default.createElement("div",{className:"protograph-toQuiz-share-msg"},this.props.cardConfigs.share_msg.replace(/{score}/g,this.props.score))),c.default.createElement("div",{className:"protograph-toQuiz-share-buttons-div"},c.default.createElement("div",{className:"protograph-toQuiz-fb-div"},c.default.createElement("div",{className:"fb-share-button","data-href":""+this.props.cardConfigs.share_link,"data-layout":"button","data-size":"large","data-mobile-iframe":"true"},c.default.createElement("a",{className:"fb-xfbml-parse-ignore",target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&src=sdkpreparse"},"Share"))),c.default.createElement("div",{className:"protograph-toQuiz-twitter-div"},c.default.createElement("a",{className:"twitter-share-button",href:"https://twitter.com/intent/tweet?text="+encodeURIComponent(this.props.cardConfigs.share_msg)+"&url="+encodeURIComponent(this.props.cardConfigs.share_link),"data-size":"large"},"Tweet")),c.default.createElement("div",{className:"protograph-toQuiz-clearfix"})),c.default.createElement("div",{className:"protograph-toQuiz-back-link",onClick:function(e){return t.goBack(e)}},s.go_back),c.default.createElement("div",{id:"credits",className:"protograph-toQuiz-credits"},c.default.createElement("a",{href:"https://pykih.com/open-tools/quizjs",target:"blank"},"Created by : ICFJ | Pykih")))))}}]),e}(c.default.Component));e.default=p},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,o,a){return o&&t(e.prototype,o),a&&t(e,a),e}}(),l=o(2),c=a(l),u=o(3),p=(a(u),function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),n(e,[{key:"renderTimer",value:function(){return c.default.createElement("div",{className:"protograph-toQuiz-timer"},c.default.createElement("span",{className:"protograph-toQuiz-timer-count"},""+this.props.timerValue.min,":",+this.props.timerValue.sec<6?c.default.createElement("span",{className:"protograph-toQuiz-danger"},""+this.props.timerValue.sec):""+this.props.timerValue.sec),c.default.createElement("img",{className:"protograph-toQuiz-timer-img",src:this.props.baseURL+"/images/clock-small.png"}))}},{key:"render",value:function(){var t=this,e=void 0,o=this.props.languageTexts;return"scoring"===this.props.cardConfigs.quiz_type&&(e=this.props.cardData.options.filter(function(t){return t.right_or_wrong===!0})[0].option),c.default.createElement("div",{className:0===this.props.cardNo?"protograph-toQuiz-question-card protograph-toQuiz-active":"protograph-toQuiz-question-card","data-order":this.props.cardNo,style:this.props.cardStyle,"data-card-type":this.props.cardType,"data-isNavigable":"0"},c.default.createElement("div",{className:"protograph-toQuiz-content"},c.default.createElement("div",{className:"protograph-toQuiz-front",onTouchStart:this.props.isMobile&&!this.props.cardConfigs.flip_card?this.props.cardEvents.onTouchStart:void 0,onTouchMove:this.props.isMobile&&!this.props.cardConfigs.flip_card?this.props.cardEvents.onTouchMove:void 0,onTouchEnd:this.props.isMobile&&!this.props.cardConfigs.flip_card?this.props.cardEvents.onTouchEnd:void 0,onClick:this.props.isMobile&&!this.props.cardConfigs.flip_card?this.props.cardEvents.nextCard:void 0},"scoring"===this.props.cardConfigs.quiz_type&&this.props.cardConfigs.timer?this.renderTimer():void 0,"scoring"===this.props.cardConfigs.quiz_type&&this.props.cardConfigs.timer&&!this.props.cardConfigs.flip_card?c.default.createElement("div",{className:"protograph-toQuiz-timeout-msg"},o.timed_out):void 0,c.default.createElement("div",{className:"protograph-toQuiz-question-number"},c.default.createElement("span",{className:"protograph-toQuiz-current-question"},this.props.questionNo),"/"+this.props.totalQuestions),c.default.createElement("div",{className:"protograph-toQuiz-question"},this.props.cardData.question),"scoring"!==this.props.cardConfigs.quiz_type||this.props.cardConfigs.flip_card?void 0:c.default.createElement("div",{id:"title_"+(this.props.cardNo+1),className:"protograph-toQuiz-title"},o.ans_title),"scoring"!==this.props.cardConfigs.quiz_type||this.props.cardConfigs.flip_card?c.default.createElement("div",{className:"protograph-toQuiz-answers-container"},c.default.createElement("div",{className:"protograph-toQuiz-correct-answer"})):c.default.createElement("div",{className:"protograph-toQuiz-answers-container"},c.default.createElement("div",{className:"protograph-toQuiz-wrong-answer"},c.default.createElement("span",{className:"protograph-toQuiz-option-text"}),c.default.createElement("span",{className:"protograph-toQuiz-cross-marker"},"✕")),c.default.createElement("div",{id:"correct_answer"+(this.props.cardNo+1),className:"protograph-toQuiz-correct-answer"},c.default.createElement("span",{className:"protograph-toQuiz-option-text"},e),c.default.createElement("span",{className:"protograph-toQuiz-tick-marker"},"✓"))),c.default.createElement("div",{className:"protograph-toQuiz-option-container"},this.props.cardData.options.map(function(e,o){return c.default.createElement("div",{key:o,"data-option-id":o,className:"protograph-toQuiz-option-div",onClick:t.props.cardEvents.optionClick},e.option)})),this.props.isMobile?c.default.createElement("div",{className:"protograph-toQuiz-swipe-hint-container",id:"swipe_hint_container"},c.default.createElement("div",{className:"protograph-toQuiz-swipe-hint-animation",id:"swipe_hint_animation"},c.default.createElement("img",{src:this.props.baseURL+"/images/swipe-up.gif"})),c.default.createElement("div",{className:"protograph-toQuiz-swipe-hint-msg",id:"swipe_hint_msg"},this.props.languageTexts.swipe)):c.default.createElement("div",{className:"protograph-toQuiz-next-container"},c.default.createElement("span",{id:"next",className:"protograph-toQuiz-next",onClick:function(e){return t.props.cardEvents.nextCard(e)}},o.next)),c.default.createElement("div",{className:"protograph-toQuiz-progress-bar"},c.default.createElement("div",{className:"protograph-toQuiz-progress-indicator",style:{width:100*+this.props.questionNo/+this.props.totalQuestions+"%"}})),c.default.createElement("div",{id:"credits",className:"protograph-toQuiz-credits"},c.default.createElement("a",{href:"https://pykih.com/open-tools/quizjs",target:"blank"},"Created by : ICFJ | Pykih"))),!("scoring"===this.props.cardConfigs.quiz_type&&!this.props.cardConfigs.flip_card)&&c.default.createElement("div",{className:"protograph-toQuiz-back",onTouchStart:this.props.isMobile&&this.props.cardConfigs.flip_card?this.props.cardEvents.onTouchStart:void 0,onTouchMove:this.props.isMobile&&this.props.cardConfigs.flip_card?this.props.cardEvents.onTouchMove:void 0,onTouchEnd:this.props.isMobile&&this.props.cardConfigs.flip_card?this.props.cardEvents.onTouchEnd:void 0,onClick:this.props.isMobile&&this.props.cardConfigs.flip_card?this.props.cardEvents.nextCard:void 0},"scoring"===this.props.cardConfigs.quiz_type&&this.props.cardConfigs.timer&&c.default.createElement("div",{className:"protograph-toQuiz-timeout-msg"},o.timed_out),c.default.createElement("div",{className:"protograph-toQuiz-question-number"},c.default.createElement("span",{className:"protograph-toQuiz-current-question"},this.props.questionNo),"/"+this.props.totalQuestions),c.default.createElement("div",{className:"protograph-toQuiz-title"},this.props.cardData.question),c.default.createElement("div",{className:"protograph-toQuiz-gif-div"},c.default.createElement("img",{className:"protograph-toQuiz-gif"})),"scoring"===this.props.cardConfigs.quiz_type?c.default.createElement("div",{className:"protograph-toQuiz-answers-container"},c.default.createElement("div",{className:"protograph-toQuiz-wrong-answer"},c.default.createElement("span",{className:"protograph-toQuiz-option-text"}),c.default.createElement("span",{className:"protograph-toQuiz-cross-marker"},"✕")),c.default.createElement("div",{className:"protograph-toQuiz-correct-answer"},c.default.createElement("span",{className:"protograph-toQuiz-option-text"},e),c.default.createElement("span",{className:"protograph-toQuiz-tick-marker"},"✓"))):c.default.createElement("div",{className:"protograph-toQuiz-answers-container"},c.default.createElement("div",{className:"protograph-toQuiz-correct-answer"})),c.default.createElement("div",{className:"protograph-toQuiz-clear-both"}),c.default.createElement("div",{className:"protograph-toQuiz-answer"}),c.default.createElement("div",{className:"protograph-toQuiz-fact"}),this.props.isMobile?c.default.createElement("div",{className:"protograph-toQuiz-swipe-hint-container",id:"swipe_hint_container"},c.default.createElement("div",{className:"protograph-toQuiz-swipe-hint-animation",id:"swipe_hint_animation"},c.default.createElement("img",{src:this.props.baseURL+"/images/swipe-up.gif"})),c.default.createElement("div",{className:"protograph-toQuiz-swipe-hint-msg",id:"swipe_hint_msg"},this.props.languageTexts.swipe)):c.default.createElement("div",{className:"protograph-toQuiz-next-container"},c.default.createElement("span",{id:"next",className:"protograph-toQuiz-next",onClick:function(e){return t.props.cardEvents.nextCard(e)}},o.next)),c.default.createElement("div",{className:"protograph-toQuiz-progress-bar"},c.default.createElement("div",{className:"protograph-toQuiz-progress-indicator",style:{width:100*+this.props.questionNo/+this.props.totalQuestions+"%"}})),c.default.createElement("div",{id:"credits",className:"protograph-toQuiz-credits"},c.default.createElement("a",{href:"https://pykih.com/open-tools/quizjs",target:"blank"},"Created by : ICFJ | Pykih")))))}}]),e}(c.default.Component));e.default=p},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var r=o(2),i=a(r),s=o(3),n=a(s),l=o(12),c=a(l);window.ProtoGraph=window.ProtoGraph||{},window.ProtoGraph.Card=window.ProtoGraph.Card||{},NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),ProtoGraph.Card.toQuiz.prototype.getData=function(){return this.containerInstance.exportData()},ProtoGraph.Card.toQuiz.prototype.renderEdit=function(t){var e=this;this.mode="edit",n.default.render(i.default.createElement(c.default,{dataURL:this.options.data_url,schemaURL:this.options.schema_url,configURL:this.options.configuration_url,configSchemaURL:this.options.configuration_schema_url,uiSchemaURL:this.options.ui_schema_url,baseURL:this.options.base_url,mode:this.mode,onPublishCallback:t,ref:function(t){e.containerInstance=e.containerInstance||t}}),this.options.selector)}},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,o,a){return o&&t(e.prototype,o),a&&t(e,a),e}}(),c=o(2),u=a(c),p=o(3),d=(a(p),o(5)),h=a(d),f=o(6),g=a(f),m=o(4),y=a(m),_=o(13),v=a(_),b=function(t){function e(t){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.shouldQuizRender=!0,o.state={fetchingData:!0,dataJSON:{data:{},mandatory_config:{}},schemaJSON:{},optionalConfigJSON:{},optionalConfigSchemaJSON:{},uiSchemaJSON:{},resultCardData:{},step:1,updatingQuiz:!1,baseURL:o.props.baseURL},o}return s(e,t),l(e,[{key:"componentDidMount",value:function(){var t=this;this.state.fetchingData&&h.default.all([h.default.get(this.props.dataURL),h.default.get(this.props.schemaURL),h.default.get(this.props.configURL),h.default.get(this.props.configSchemaURL),h.default.get(this.props.uiSchemaURL)]).then(h.default.spread(function(e,o,a,r,i){var s={fetchingData:!1,dataJSON:e.data,schemaJSON:o.data,optionalConfigJSON:a.data,optionalConfigSchemaJSON:r.data,resultCardData:e.data.data.result_card_data,uiSchemaJSON:i.data};s.dataJSON.data.result_card_data=s.dataJSON.data.result_card_data&&s.dataJSON.data.result_card_data.length?t.processResultData(s.dataJSON.data.result_card_data,s.dataJSON.mandatory_config.quiz_type):void 0,s.totalQuestions=s.dataJSON.data.questions.length,s.totalCards=s.totalQuestions+2,s.languageTexts=t.getLanguageTexts(s.dataJSON.mandatory_config.language),s.dataJSON.mandatory_config.time_per_question&&(s.timePerQuestion=s.dataJSON.mandatory_config.time_per_question,s.timerCountValue=s.dataJSON.mandatory_config.time_per_question),t.setState(s)}))}},{key:"exportData",value:function(){var t={dataJSON:JSON.parse(JSON.stringify(this.state.dataJSON)),optionalConfigJSON:this.state.optionalConfigJSON};return t.dataJSON.data.result_card_data=this.state.resultCardData,t.name=t.dataJSON.data.basic_datapoints.quiz_title.substr(0,225),t}},{key:"processResultData",value:function(t,e){var o=[];if("scoring"===e&&t[0].upper_limit_of_score_range){var a=g.default.groupBy(t,"upper_limit_of_score_range"),r=Object.keys(a);return r.forEach(function(t){var e={};a[t].forEach(function(t){Object.keys(e).length?e.related_articles.push({related_article_links:t.related_article_links,link_description:t.link_description,link_image:t.link_image}):e={upper_limit_of_score_range:t.upper_limit_of_score_range,message:t.message,related_articles:[{related_article_links:t.related_article_links,link_description:t.link_description,link_image:t.link_image}]}}),o.push(e)}),o.sort(function(t,e){return t.upper_limit_of_score_range-e.upper_limit_of_score_range}),o}return o.push({message:t[0].message,related_articles:t.map(function(t){return{related_article_links:t.related_article_links,link_description:t.link_description,link_image:t.link_image}})}),o}},{key:"getLanguageTexts",value:function(t){var e=t?t:"english",o=void 0;switch(e.toLowerCase()){case"hindi":o={question_title:"प्रश्न ",ans_title:"उत्तर",restart:"फिर से शुरू करें ↺",next:"अगला प्रश्न ➜",swipe:"अगले प्रश्न के लिए दाईं या बाईं ओर स्वाइप करें ➜"};break;default:o={question_title:"Question ",ans_title:"ANSWER",restart:"Good Job! Take the quiz again?",next:"Next Question ➜",swipe:"Swipe on the card to continue ➜"}}return"object"===("undefined"==typeof o?"undefined":n(o))&&(o.next=o.next,o.restart=o.restart,o.swipe=o.swipe),o}},{key:"getSchemaJSON",value:function(){switch(this.state.step){case 1:return this.state.schemaJSON.properties.mandatory_config;case 2:return this.state.schemaJSON.properties.data.properties.basic_datapoints;case 3:return this.state.schemaJSON.properties.data.properties.questions;case 4:return this.state.schemaJSON.properties.data.properties.result_card_data;case 5:return this.state.optionalConfigSchemaJSON}}},{key:"getFormData",value:function(){switch(this.state.step){case 1:return this.state.dataJSON.mandatory_config;case 2:return this.state.dataJSON.data.basic_datapoints;case 3:return this.state.dataJSON.data.questions;case 4:return this.state.resultCardData;case 5:return this.state.optionalConfigJSON}}},{key:"getUISchemaJSON",value:function(){switch(this.state.step){case 1:return this.state.uiSchemaJSON.mandatory_config;case 2:return this.state.uiSchemaJSON.data.basic_datapoints;case 3:return this.state.uiSchemaJSON.data.questions;default:return{}}}},{key:"showLinkText",value:function(){switch(this.state.step){case 1:return"";case 2:case 3:case 4:case 5:return"< Back"}}},{key:"showButtonText",value:function(){switch(this.state.step){case 1:case 2:case 3:case 4:return"Next";case 5:return"Publish"}}},{key:"onPrevHandler",value:function(){this.setState(function(t,e){return{step:--t.step}})}},{key:"onChangeHandler",value:function(t){var e=this,o=t.formData;switch(this.state.step){case 1:this.setState(function(t,e){var a=t.dataJSON;return"scoring_and_timer"===o.quiz_type_form?(o.quiz_type="scoring",o.timer=!0):o.quiz_type=o.quiz_type_form,a.mandatory_config=o,{updatingQuiz:!0,dataJSON:a}});break;case 2:this.setState(function(t,e){var a=t.dataJSON;return a.data.basic_datapoints=o,{updatingQuiz:!0,dataJSON:a}});break;case 3:this.setState(function(t,e){var a=t.dataJSON;return a.data.questions=o,{updatingQuiz:!0,dataJSON:a,totalQuestions:a.data.questions.length}});break;case 4:this.setState(function(t,a){var r=o,i=t.dataJSON;return i.data.result_card_data=r&&r.length?e.processResultData(r,i.mandatory_config.quiz_type):[],{updatingQuiz:!0,dataJSON:i,resultCardData:r}});break;case 5:this.setState(function(t,e){return{optionalConfigJSON:o}})}}},{key:"onSubmitHandler",value:function(t){var e=this;t.formData;switch(this.state.step){case 1:case 2:case 3:case 4:this.setState(function(t,e){return{step:t.step+1}});break;case 5:if("function"==typeof this.props.onPublishCallback){this.setState({publishing:!0});var o=this.props.onPublishCallback();o.then(function(t){e.setState({publishing:!1})})}}}},{key:"getReferenceFormData",value:function(){return JSON.parse(JSON.stringify(this.state.dataJSON.mandatory_config))}},{key:"componentWillUpdate",value:function(t,e){document.getElementById("protograph_embed_editQuiz")&&e.updatingQuiz&&(this.shouldQuizRender=!1)}},{key:"componentDidUpdate",value:function(t,e){document.getElementById("protograph_embed_editQuiz")&&this.state.updatingQuiz&&(this.shouldQuizRender=!0,this.setState({updatingQuiz:!1}))}},{key:"renderQuiz",value:function(){return this.shouldQuizRender?u.default.createElement(y.default,{mode:"laptop",dataJSON:this.state.dataJSON,schemaJSON:this.state.schemaJSON,optionalConfigJSON:this.state.optionalConfigJSON,optionalConfigSchemaJSON:this.state.optionalConfigSchemaJSON,
totalQuestions:this.state.totalQuestions,totalCards:this.state.totalCards,languageTexts:this.state.languageTexts,timePerQuestion:this.state.timePerQuestion,timerCountValue:this.state.timerCountValue,baseURL:this.state.baseURL}):u.default.createElement("div",null)}},{key:"setScrollClass",value:function(){switch(this.state.step){case 3:case 4:return"protograph-scroll-form";default:return""}}},{key:"render",value:function(t){var e=this;return this.state.fetchingData?u.default.createElement("div",{className:"quiz-container"},u.default.createElement("div",{className:"loading-card",style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"white",opacity:1,zIndex:500}},u.default.createElement("span",{className:"loading-text",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",textAlign:"center"}},"Fetching Questions ..."))):u.default.createElement("div",{className:"proto-container"},u.default.createElement("div",{className:"ui grid form-layout"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"four wide column proto-card-form "+this.setScrollClass()},u.default.createElement("div",null,u.default.createElement("div",{className:"section-title-text"},"Fill the form"),u.default.createElement("div",{className:"ui label proto-pull-right"},"ToQuiz")),u.default.createElement("br",null),u.default.createElement(v.default,{schema:this.getSchemaJSON(),onSubmit:function(t){return e.onSubmitHandler(t)},onChange:function(t){return e.onChangeHandler(t)},referenceFormData:this.getReferenceFormData(),formData:this.getFormData(),uiSchema:this.getUISchemaJSON()},u.default.createElement("br",null),u.default.createElement("a",{onClick:function(t){return e.onPrevHandler(t)},className:""+(this.state.publishing?"protograph-disable":"")},this.showLinkText()),u.default.createElement("button",{type:"submit",className:(this.state.publishing?"ui primary loading disabled button":"")+" default-button protograph-primary-button"},this.showButtonText()))),u.default.createElement("div",{id:"protograph_embed_editQuiz",className:"twelve wide column proto-card-preview proto-share-card-div"},this.renderQuiz()))))}}]),e}(u.default.Component);e.default=b},function(t,e){t.exports=JSONSchemaForm}]);