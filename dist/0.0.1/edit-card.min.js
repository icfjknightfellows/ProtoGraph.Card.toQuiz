!function(e){function t(r){if(a[r])return a[r].exports;var i=a[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){a(1),e.exports=a(11)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),o=a(3),s=r(o),c=a(4),l=r(c);window.ProtoGraph=window.ProtoGraph||{},window.ProtoGraph.Card=window.ProtoGraph.Card||{},NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),ProtoGraph.Card.toQuiz=function(){this.cardType="QuizApp"},ProtoGraph.Card.toQuiz.prototype.init=function(e){this.options=e},ProtoGraph.Card.toQuiz.prototype.getData=function(){return this.containerInstance.exportData()},ProtoGraph.Card.toQuiz.prototype.renderLaptop=function(){var e=this;this.mode="laptop",s.default.render(n.default.createElement(l.default,{dataURL:this.options.data_url,schemaURL:this.options.schema_url,configURL:this.options.configuration_url,configSchemaURL:this.options.configuration_schema_url,uiSchemaURL:this.options.ui_schema_url,baseURL:this.options.base_url,mode:this.mode,ref:function(t){e.containerInstance=e.containerInstance||t}}),this.options.selector)},ProtoGraph.Card.toQuiz.prototype.renderMobile=function(){var e=this;this.mode="mobile",s.default.render(n.default.createElement(l.default,{dataURL:this.options.data_url,schemaURL:this.options.schema_url,configURL:this.options.configuration_url,configSchemaURL:this.options.configuration_schema_url,uiSchemaURL:this.options.ui_schema_url,baseURL:this.options.base_url,mode:this.mode,ref:function(t){e.containerInstance=e.containerInstance||t}}),this.options.selector)},ProtoGraph.Card.toQuiz.prototype.renderScreenshot=function(){var e=this;this.mode="screenshot",s.default.render(n.default.createElement(l.default,{dataURL:this.options.data_url,schemaURL:this.options.schema_url,configURL:this.options.configuration_url,configSchemaURL:this.options.configuration_schema_url,uiSchemaURL:this.options.ui_schema_url,baseURL:this.options.base_url,mode:this.mode,ref:function(t){e.containerInstance=e.containerInstance||t}}),this.options.selector)}},function(e,t){e.exports=React},function(e,t){e.exports=ReactDOM},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(2),u=r(l),d=a(3),p=(r(d),a(5)),f=r(p),m=a(6),h=r(m),y=a(7),g=r(y),_=a(8),v=r(_),b=a(9),S=r(b),N=a(10),k=r(N),E=function(e){function t(e){i(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r={fetchingData:!0,dataJSON:{data:{},mandatory_config:{}},schemaJSON:{},optionalConfigJSON:{},optionalConfigSchemaJSON:{},languageTexts:{},totalQuestions:0,score:0,rightCounter:0,sliderValue:0,timerCountValue:10,timePerQuestion:10,questionScore:1,timer:void 0,revisitingAnswers:!1,isMobile:"mobile"===a.props.mode};return a.props.dataJSON&&(r.fetchingData=!1,r.dataJSON=a.props.dataJSON),a.props.schemaJSON&&(r.schemaJSON=a.props.schemaJSON),a.props.optionalConfigJSON&&(r.optionalConfigJSON=a.props.optionalConfigJSON),a.props.optionalConfigSchemaJSON&&(r.optionalConfigSchemaJSON=a.props.optionalConfigSchemaJSON),a.props.totalQuestions&&(r.totalQuestions=a.props.totalQuestions),a.props.totalCards&&(r.totalCards=a.props.totalCards),a.props.languageTexts&&(r.languageTexts=a.props.languageTexts),a.props.timePerQuestion&&(r.timePerQuestion=a.props.timePerQuestion),a.props.timerCountValue&&(r.timerCountValue=a.props.timerCountValue),a.state=r,a}return o(t,e),c(t,[{key:"exportData",value:function(){return document.getElementById("protograph_toQuiz").getBoundingClientRect()}},{key:"componentWillReceiveProps",value:function(e){this.setState({optionalConfigJSON:e.optionalConfigJSON})}},{key:"componentDidMount",value:function(){var e=this;this.state.fetchingData&&f.default.all([f.default.get(this.props.dataURL),f.default.get(this.props.schemaURL),f.default.get(this.props.configURL),f.default.get(this.props.configSchemaURL)]).then(f.default.spread(function(t,a,r,i){var n={fetchingData:!1,dataJSON:{data:t.data.data,mandatory_config:t.data.mandatory_config},schemaJSON:a.data,optionalConfigJSON:r.data,optionalConfigSchemaJSON:i.data};n.dataJSON.data.result_card_data=n.dataJSON.data.result_card_data?e.processResultData(n.dataJSON.data.result_card_data,n.dataJSON.mandatory_config.quiz_type):void 0,n.totalQuestions=n.dataJSON.data.questions.length,n.totalCards=n.totalQuestions+2,n.languageTexts=e.getLanguageTexts(n.dataJSON.mandatory_config.language),n.dataJSON.mandatory_config.time_per_question&&(n.timePerQuestion=n.dataJSON.mandatory_config.time_per_question,n.timerCountValue=n.dataJSON.mandatory_config.time_per_question),e.setState(n)}))}},{key:"processResultData",value:function(e,t){var a=[];if("scoring"===t&&e[0].upper_limit_of_score_range){var r=h.default.groupBy(e,"upper_limit_of_score_range"),i=Object.keys(r);return i.forEach(function(e){var t={};r[e].forEach(function(e){Object.keys(t).length?t.related_articles.push({related_article_links:e.related_article_links,link_description:e.link_description,link_image:e.link_image}):t={upper_limit_of_score_range:e.upper_limit_of_score_range,message:e.message,related_articles:[{related_article_links:e.related_article_links,link_description:e.link_description,link_image:e.link_image}]}}),a.push(t)}),a.sort(function(e,t){return e.upper_limit_of_score_range-t.upper_limit_of_score_range}),a}return a.push({message:e[0].message,related_articles:e.map(function(e){return{related_article_links:e.related_article_links,link_description:e.link_description,link_image:e.link_image}})}),a}},{key:"getLanguageTexts",value:function(e){var t=e?e:"english",a=void 0;switch(t.toLowerCase()){case"hindi":a={question_title:"प्रश्न ",ans_title:"उत्तर",restart:"फिर से शुरू करें ↺",next:"अगला प्रश्न ➜",swipe:"अगले प्रश्न के लिए दाईं या बाईं ओर स्वाइप करें ➜"};break;default:a={question_title:"Question ",ans_title:"ANSWER",restart:"Good Job! Take the quiz again?",next:"Next Question ➜",swipe:"Swipe on the card to continue ➜"}}return"object"===("undefined"==typeof a?"undefined":s(a))&&(a.next=a.next,a.restart=a.restart,a.swipe=a.swipe),a}},{key:"formatNumber",value:function(e){return e>9?""+e:"0"+e}},{key:"startCountdown",value:function(){var e=document.querySelector(".intro-card .countdown-counter"),t=void 0,a=3;t=setInterval(function(){a--,a>0?e.innerHTML=a:0===a?e.innerHTML="GO":clearInterval(t)},1e3)}},{key:"startQuiz",value:function(e){var t=this,a=(document.querySelector(".intro-button"),document.querySelector(".intro-card")),r=document.querySelector(".intro-front"),i=document.querySelector(".question-card[data-order='0']"),n=this.state.totalQuestions,o=this.state.dataJSON.mandatory_config;r.style.display="none",document.querySelector(".intro-back").style.display="block",this.state.isMobile||(e.target.style.visibility="hidden",document.querySelector(".intro-cover").style.display="block"),a.classList.add("clicked"),this.startCountdown(),setTimeout(function(){a.style.top="-1000px",("scoring"!==o.quiz_type||o.flip_card)&&(i.querySelector(".back").style.display="none"),i.classList.add("active"),i.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, 160, 0, 1)";for(var e=1;e<n;e++){var r=document.querySelector(".question-card[data-order='"+e+"']");r.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*e)+", "+320*e*-1+", "+(1+.08*e)+")",e>2?r.style.opacity=0:r.style.opacity=1}var s=document.querySelector(".conclusion-card");s.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*n)+", "+320*n*-1+", "+(1+.08*n)+")",n<3&&(s.style.opacity=1),"scoring"===o.quiz_type&&o.timer&&t.setTimer()},4e3)}},{key:"optionClicked",value:function(e){var t=this,a=document.querySelector(".question-card.active"),r=this.state.dataJSON.mandatory_config,i=(this.state.totalQuestions,this.state.dataJSON.data.questions[+a.getAttribute("data-order")]),n=i.options[+e.target.getAttribute("data-option-id")];"scoring"===r.quiz_type&&(r.timer&&(this.clearTimer(),r.flip_card||(a.querySelector(".front .timer").style.display="none")),n.right_or_wrong?(this.setState(function(e,a){return{right_counter:e.right_counter+1,score:e.score+t.state.questionScore}}),this.flashCorrectIndicator()):this.flashWrongIndicator()),this.addOptionBasedContent(n)}},{key:"addOptionBasedContent",value:function(e){var t=document.querySelector(".question-card.active"),a=t.querySelector(".content"),r=(t.getAttribute("data-order"),this.state.dataJSON.mandatory_config);if(t.setAttribute("data-isNavigable",1),"scoring"!==r.quiz_type||r.flip_card){var i=a.querySelector(".back");"scoring"===r.quiz_type?setTimeout(function(){t.classList.add("clicked"),e.right_or_wrong?(i.querySelector(".wrong-answer").style.display="none",i.querySelector(".correct-answer").classList.remove("deselected")):(i.querySelector(".wrong-answer").style.display="block",i.querySelector(".wrong-answer .option-text").innerHTML=e.option,i.querySelector(".correct-answer").classList.add("deselected")),setTimeout(function(){a.querySelector(".front").style.display="none",i.style.display="block"},100)},1100):(t.classList.add("clicked"),setTimeout(function(){a.querySelector(".front").style.display="none",i.style.display="block"},100),i.querySelector(".correct-answer").innerHTML=e.option),e.gif_image&&e.gif_image.image?(i.querySelector(".gif-div").style.display="block",i.querySelector(".gif").onload=function(e){var t=e.target.offsetWidth,a=i.querySelector(".gif-div").offsetWidth,r=a-20;t>=r&&(e.target.style.width=r+"px")},i.querySelector(".gif").setAttribute("src",e.gif_image.image)):i.querySelector(".gif-div").style.display="none",e.fact?(i.querySelector(".fact").style.display="block",i.querySelector(".fact").innerHTML="",i.querySelector(".fact").appendChild(document.createTextNode(e.fact))):i.querySelector(".fact").style.display="none"}else if("scoring"===r.quiz_type){for(var n=a.querySelectorAll(".option-div"),o=a.querySelector(".front"),s=0;s<n.length;s++)n[s].style.display="none";o.querySelector(".question").style.color="#a8a8a8",o.querySelector(".title").style.display="block",o.querySelector(".answers-container").style.display="block",this.state.isMobile?o.querySelector(".swipe-hint-container").style.display="block":o.querySelector(".next-container").style.display="block",e.right_or_wrong?(o.querySelector(".wrong-answer").style.display="none",o.querySelector(".correct-answer").classList.remove("deselected")):(o.querySelector(".wrong-answer").style.display="block",o.querySelector(".wrong-answer .option-text").innerHTML=e.option,o.querySelector(".correct-answer").classList.add("deselected"))}}},{key:"swipeCallback",value:function(e){if(!this.state.revisitAnswers){var t=document.querySelector(".question-card.active"),a=+t.getAttribute("data-order"),r=document.querySelector(".main-container").offsetWidth,i=document.querySelector(".question-card[data-order='"+(a+1)+"']"),n=this.state.dataJSON.mandatory_config,o=this.state.totalQuestions,s=void 0;if(+t.getAttribute("data-isNavigable")){switch(i?("scoring"===n.quiz_type&&n.timer&&(this.setState({timerCountValue:this.state.timePerQuestion}),this.setTimer()),i.classList.add("active"),("scoring"!==n.quiz_type||n.flip_card)&&(s=i.querySelector(".back"),s.style.display="none")):(document.querySelectorAll(".progress-bar").forEach(function(e){e.style.display="none"}),"scoring"!==n.quiz_type||n.flip_card?(document.querySelectorAll(".question-card .back .swipe-hint-container").forEach(function(e){e.style.display="none"}),document.querySelectorAll(".question-card .back .next-container").forEach(function(e){e.style.display="none"})):(document.querySelectorAll(".question-card .front .swipe-hint-container").forEach(function(e){e.style.display="none"}),document.querySelectorAll(".question-card .front .next-container").forEach(function(e){e.style.display="none"}))),t.classList.remove("active"),e){case"left":t.style.left="-1000px";break;case"right":t.style.left=r+500+"px";break;case"up":t.style.top="-1000px"}for(var c=a+1;c<o;c++){var l=document.querySelector(".question-card[data-order='"+c+"']"),u=c-a-1;l.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*u)+", "+320*u*-1+", "+(1+.08*u)+")",c-a<4&&(l.style.opacity=1)}var d=document.querySelector(".conclusion-card"),p=o-a-1;d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*p)+", "+320*p*-1+", "+(1+.08*p)+")",o-a<4&&(d.style.opacity=1)}}}},{key:"touchEndHandler",value:function(e){var t=this;g.default.swipeEnd(e,function(e){console.log("swipeLeft")},function(e){console.log("swipeRight")},function(e){t.swipeCallback("up")},function(e){console.log("swipeRight")})}},{key:"resetQuiz",value:function(e){this.setState({right_counter:0,score:0,timer:void 0,revisitAnswers:!1});var t=document.querySelector(".question-card.active"),a=document.querySelectorAll(".question-card"),r=this.state.totalQuestions,i=this.state.dataJSON.mandatory_config,n=void 0;for(t&&t.classList.remove("active"),n=0;n<a.length;n++){var o=a[n],s=o.querySelector(".front"),c=void 0;if(o.classList.remove("clicked"),o.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*n)+", "+320*n*-1+", "+(1+.08*n)+")",o.style.display="block",s.style.display="block",o.style.top="0px",o.setAttribute("data-isNavigable",0),n<3?o.style.opacity=1:o.style.opacity=0,"scoring"!==i.quiz_type||i.flip_card){if(o.querySelector(".back").style.display="none",this.state.isMobile){var l=o.querySelector(".back .swipe-hint-container");l.style.display="block"}else{var u=o.querySelector(".back .next-container");u.style.display="block"}"scoring"===i.quiz_type&&i.timer&&(o.querySelector(".timeout-msg").style.display="none")}else{c=s.querySelectorAll(".option-div");for(var d=0;d<c.length;d++)c[d].style.display="block";s.querySelector(".question").style.color="black",s.querySelector(".title").style.display="none",s.querySelector(".answers-container").style.display="none",this.state.isMobile?s.querySelector(".swipe-hint-container").style.display="none":s.querySelector(".next-container").style.display="none",i.timer&&(s.querySelector(".timer").style.display="block",s.querySelector(".timeout-msg").style.display="none")}}document.querySelector(".question-card[data-order='0']").classList.add("active");var p=document.querySelector(".conclusion-card"),f=document.querySelectorAll(".progress-bar");p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*r)+", "+320*r*-1+", "+(1+.08*r)+")",r<3?p.style.opacity=1:p.style.opacity=0,f.forEach(function(e){e.style.display="block"}),this.hideSlider(),"scoring"===i.quiz_type&&i.timer&&(this.setState({timerCountValue:this.state.timePerQuestion}),this.setTimer())}},{key:"revisitAnswers",value:function(e){this.showSlider(),this.slideCallback(0),this.setState({revisitAnswers:!0}),document.querySelectorAll(".question-card").forEach(function(e){e.setAttribute("data-isNavigable",0)})}},{key:"slideCallback",value:function(e){this.setState({sliderValue:e});var t=document.querySelector(".card-slider"),a=parseFloat(t.style.width),r=(document.querySelector(".slider-hint"),document.querySelector(".slider-card-no")),i=this.state.totalQuestions,n=e/i*100,o=document.querySelector(".conclusion-card");t.style.background="linear-gradient(to right, #D6EDFF 0%, #168BE5 "+n+"%, #EEE "+n+"%)",isNaN(a)&&(a=270),r.innerHTML=+e+1>i?"":+e+1,r.style.left=e/i*(a-16)+4+"px";for(var s=function(t){var a=document.querySelector(".question-card[data-order='"+t+"']");if(t<e)a.style.top="-1000px";else{var r=t-e;a.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*r)+", "+320*t*-1+", "+(1+.08*r)+")",a.style.display="block",a.style.top="0px",t-e<3?setTimeout(function(){a.style.opacity=1},300):setTimeout(function(){a.style.opacity=0},300)}},c=0;c<i;c++)s(c);o.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*(i-e))+", "+320*i*-1+", "+(1+.08*(i-e))+")",i-e<3?setTimeout(function(){o.style.opacity=1},300):setTimeout(function(){o.style.opacity=0},300)}},{key:"socialShare",value:function(e){var t=document.querySelector(".conclusion-card"),a=document.querySelector(".conclusion-front"),r=document.querySelector(".conclusion-back");this.setState({revisitAnswers:!1}),this.state.revisitAnswers&&this.hideSlider(),t.classList.add("clicked"),setTimeout(function(){a.style.display="none"},300),r.style.display="block"}},{key:"setTimer",value:function(){var e=this;this.state.timer&&this.clearTimer();var t=this.state.timePerQuestion,a=document.querySelector(".question-card.active"),r=+a.getAttribute("data-order-id"),i=this.state.dataJSON.data.questions[r].options;this.setState({questionScore:t});var n=setInterval(function(){t--,e.setState({timerCountValue:t,questionScore:t}),0===t&&(e.clearTimer(),e.flashTimeUpIndicator(),e.state.dataJSON.mandatory_config.flip_card||(document.querySelector(".question-card.active .front .timer").style.display="none"),document.querySelector(".question-card.active .timeout-msg").style.display="block",e.addOptionBasedContent(i.filter(function(e){return e.right_or_wrong===!0})[0]))},1e3);this.setState({timer:n})}},{key:"clearTimer",value:function(){clearInterval(this.state.timer),this.setState({timer:void 0})}},{key:"calculateTime",value:function(e){var t={sec:30,min:0};return"number"==typeof e&&(t.sec=this.formatNumber(e%60),t.min=this.formatNumber(Math.floor(e/60)%60)),t}},{key:"sliderMousedownCallback",value:function(e){e.stopPropagation(),document.querySelector(".slider-hint").style.visibility="hidden",document.querySelector(".slider-card-no").style.display="block"}},{key:"resetSlider",value:function(e){var t=document.querySelector(".card-slider");t.setAttribute("value",e),t.style.background="linear-gradient(to right, #D6EDFF 0%, #168BE5 100%, #EEE 100%)"}},{key:"showSlider",value:function(){document.querySelector(".card-slider").style.display="block",document.querySelector(".slider-container").style.display="block"}},{key:"hideSlider",value:function(){document.querySelector(".card-slider").style.display="none",document.querySelector(".slider-container").style.display="none"}},{key:"flashCorrectIndicator",value:function(){document.querySelector("#correct_indicator").style.display="block",setTimeout(function(){document.querySelector("#correct_indicator").style.display="none"},1e3)}},{key:"flashWrongIndicator",value:function(){document.querySelector("#wrong_indicator").style.display="block",setTimeout(function(){document.querySelector("#wrong_indicator").style.display="none"},1e3)}},{key:"flashTimeUpIndicator",value:function(){document.querySelector("#time_out_indicator").style.display="block",setTimeout(function(){document.querySelector("#time_out_indicator").style.display="none"},1e3)}},{key:"renderIntroCard",value:function(){var e=this,t={},a={},r=this.state.dataJSON.data,i={background_image:r.basic_datapoints.background_image.image,quiz_title:r.basic_datapoints.quiz_title,introduction:r.basic_datapoints.introduction,start_button_text:r.basic_datapoints.start_button_text,start_button_color:this.state.optionalConfigJSON.start_button_color,start_button_text_color:this.state.optionalConfigJSON.start_button_text_color};return i.start_button_color?t.backgroundColor=i.start_button_color:void 0,i.start_button_text_color?t.color=i.start_button_text_color:void 0,i.background_image&&(a.backgroundImage="url("+i.background_image+")"),u.default.createElement("div",{className:"intro-container"},u.default.createElement("div",{id:"screenshot"===this.props.mode?"ProtoScreenshot":void 0,className:""+(i.background_image||"laptop"===this.state.mode?"intro-content with-image":"intro-content")},u.default.createElement("div",{className:""+(i.background_image&&this.state.isMobile?"intro-header with-image":"intro-header")},i.quiz_title),u.default.createElement("div",{className:""+(i.background_image&&this.state.isMobile?"intro-description with-image":"intro-description")},i.introduction),u.default.createElement("div",{className:"intro-button-div"},u.default.createElement("button",{className:"intro-button",onClick:function(t){return e.startQuiz(t)},style:t},i.start_button_text))),u.default.createElement("div",{className:"intro-cover"}))}},{key:"renderCorrectIndicator",value:function(){return u.default.createElement("div",{id:"correct_indicator",className:"correct-wrong-indicator correct-background"},u.default.createElement("div",{className:"tick-background"},u.default.createElement("span",{className:"correct-tick"},"✔︎")),u.default.createElement("div",{className:"correct-wrong-text"},"Correct"))}},{key:"renderWrongIndicator",value:function(){return u.default.createElement("div",{id:"wrong_indicator",className:"correct-wrong-indicator wrong-background"},u.default.createElement("div",{className:"tick-background wrong-tick"},u.default.createElement("span",null,"✗︎")),u.default.createElement("div",{className:"correct-wrong-text wrong"},"Wrong"))}},{key:"renderTimeOutIndicator",value:function(){return u.default.createElement("div",{id:"time_out_indicator",className:"time-out-indicator"},u.default.createElement("div",{className:"time-out-content"},u.default.createElement("div",{className:"clock-icon"},u.default.createElement("img",{src:this.props.baseURL+"/images/clock-large.png"})),u.default.createElement("div",{className:"time-value"},"00:00"),u.default.createElement("div",{className:"oops-msg"},"Oops!"),u.default.createElement("div",{className:"times-up-msg"},"Time's up")))}},{key:"renderMainContainerContent",value:function(e){var t=this,a={resetQuiz:function(e){return t.resetQuiz(e)},revisitAnswers:function(e){return t.revisitAnswers(e)},socialShare:function(e){return t.socialShare(e)}},r=this.state.dataJSON.data,i={background_image:r.basic_datapoints.background_image.image,quiz_title:r.basic_datapoints.quiz_title,introduction:r.basic_datapoints.introduction,start_button_text:r.basic_datapoints.start_button_text,start_button_color:this.state.optionalConfigJSON.start_button_color,start_button_text_color:this.state.optionalConfigJSON.start_button_text_color},n=this.state.dataJSON.mandatory_config;return n.share_msg=r.basic_datapoints.share_msg,n.share_link=r.basic_datapoints.share_link,u.default.createElement("div",{id:"protograph_toQuiz",className:"quiz-container"},u.default.createElement("div",{className:"quiz-content"},("laptop"===this.props.mode||"edit"===this.props.mode)&&this.renderIntroCard(),u.default.createElement("div",{id:"main_container",className:"main-container"},u.default.createElement("div",{id:"fb-root"}),this.renderCorrectIndicator(),this.renderWrongIndicator(),this.renderTimeOutIndicator(),u.default.createElement(v.default,{introCardConfigs:i,startQuiz:function(e){return t.startQuiz(e)},totalQuestions:this.state.totalQuestions,isMobile:this.state.isMobile}),u.default.createElement("div",{id:"card_stack",className:"card-stack"},e,this.state.isMobile?u.default.createElement("div",{className:"help-text",id:"help_text"},this.state.languageTexts.swipe):void 0),u.default.createElement(S.default,{introCardConfigs:i,cardConfigs:this.state.dataJSON.mandatory_config,resultCardConfigs:this.state.dataJSON.data.result_card_data,totalQuestions:this.state.totalQuestions,score:this.state.score,cardEvents:a,baseURL:this.props.baseURL}),u.default.createElement("div",{className:"slider-container"},u.default.createElement("div",{className:"slider-hint"},"use slider to move between questions"),u.default.createElement("span",{className:"slider-card-no"},"5"),u.default.createElement("input",{className:"card-slider",name:"card_slider",type:"range",step:"1",min:"0",max:this.state.totalQuestions,value:this.state.sliderValue,onInput:function(e){t.slideCallback(e.target.value)},onMouseDown:this.state.isMobile?void 0:function(e){return t.sliderMousedownCallback(e)},onTouchStart:this.state.isMobile?function(e){return t.sliderMousedownCallback(e)}:void 0})))))}},{key:"renderQuiz",value:function(){var e=this;if(this.state.fetchingData)return u.default.createElement("div",{className:"quiz-container"},u.default.createElement("div",{className:"loading-card",style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"white",opacity:1,zIndex:500}},u.default.createElement("span",{className:"loading-text",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",textAlign:"center"}},"Fetching Questions ...")));var t=140,a=-320,r=1.08,i=this.state.dataJSON.data.questions?this.state.dataJSON.data.questions:[],n=void 0;return n=i.map(function(i,n){var o={},s={};return o.zIndex=e.state.totalQuestions-n,o.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+t+", "+a+", "+r+")",n<2?o.opacity=1:o.opacity=0,t-=20,a-=320,r+=.08,s.optionClick=function(t){return e.optionClicked(t)},e.state.isMobile?(s.onTouchStart=function(e){return g.default.swipeStart(e)},s.onTouchMove=function(e){return g.default.swipeMove(e)},s.onTouchEnd=function(t){return e.touchEndHandler(t)}):s.nextCard=function(t){return e.swipeCallback("up")},u.default.createElement(k.default,{key:n,cardNo:n,questionNo:e.formatNumber(n+1),cardStyle:o,cardData:e.state.dataJSON.data.questions[n],cardEvents:s,cardConfigs:e.state.dataJSON.mandatory_config,languageTexts:e.state.languageTexts,totalQuestions:e.formatNumber(e.state.totalQuestions),isMobile:e.state.isMobile,timerValue:e.calculateTime(e.state.timerCountValue),baseURL:e.props.baseURL})}),this.renderMainContainerContent(n)}},{key:"renderScreenshot",value:function(){return this.state.fetchingData?u.default.createElement("div",{className:"quiz-container"},u.default.createElement("div",{className:"loading-card",style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"white",opacity:1,zIndex:500}},u.default.createElement("span",{className:"loading-text",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",textAlign:"center"}},"Fetching Questions ..."))):u.default.createElement("div",{className:"quiz-container"},u.default.createElement("div",{className:"quiz-content"},this.renderIntroCard()))}},{key:"render",value:function(){switch(this.props.mode){case"laptop":return this.renderQuiz();case"mobile":return this.renderQuiz();case"tablet":return this.renderQuiz();case"screenshot":return this.renderScreenshot()}}}]),t}(u.default.Component);t.default=E},function(e,t){e.exports=axios},function(e,t){"use strict";function a(e,t){var a={};switch("undefined"==typeof t?"undefined":n(t)){case"string":e.forEach(function(e){a[e[t]]?a[e[t]].push(e):a[e[t]]=[e]});break;case"function":e.forEach(function(e){var r=t(e);a[r]?a[r].push(e):a[r]=[e]})}return a}function r(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==t?null:t[1]||0}function i(e){for(var t=e.innerHTML.split(" ");e.scrollHeight>e.offsetHeight;)t.pop(),e.innerHTML=t.join(" ")+"..."}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={groupBy:a,getURLParam:r,multiLineTruncate:i}},function(e,t){"use strict";function a(e){e=e?e:window.event,e="changedTouches"in e?e.changedTouches[0]:e,n={x:e.pageX,y:e.pageY},f=(new Date).getTime()}function r(e){e=e?e:window.event,e.preventDefault()}function i(e,t,a,r,i){if(e=e?e:window.event,e="changedTouches"in e?e.changedTouches[0]:e,o={x:e.pageX-n.x,y:e.pageY-n.y},m=(new Date).getTime()-f,m<=p)if(Math.abs(o.x)>=c&&Math.abs(o.y)<=l)switch(s=o.x<0?"left":"right"){case"left":t(e);break;case"right":a(e)}else if(Math.abs(o.y)>=u&&Math.abs(o.x)<=d)switch(s=o.y<0?"up":"down"){case"up":r(e);break;case"down":i(e)}}var n={x:-1,y:-1},o={x:-1,y:-1},s="undefined",c=30,l=30,u=30,d=30,p=1e3,f=0,m=0;e.exports={swipeStart:a,swipeEnd:i,swipeMove:r}},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),c=a(2),l=r(c),u=a(3),d=(r(u),function(e){function t(){return i(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e={},t={},a={};return this.props.introCardConfigs.start_button_color?e.backgroundColor=this.props.introCardConfigs.start_button_color:void 0,this.props.introCardConfigs.start_button_text_color?e.color=this.props.introCardConfigs.start_button_text_color:void 0,t.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, 160, 0, 1)",this.props.introCardConfigs.background_image&&(a.backgroundImage="url("+this.props.introCardConfigs.background_image+")"),l.default.createElement("div",{className:"intro-card",style:t},l.default.createElement("div",{className:"content"},l.default.createElement("div",{className:"intro-front",style:a},l.default.createElement("div",{className:"intro-gradient"}),this.props.isMobile&&l.default.createElement("div",{className:""+(this.props.introCardConfigs.background_image?"intro-content with-image":"intro-content")},l.default.createElement("div",{className:""+(this.props.introCardConfigs.background_image&&this.props.isMobile?"intro-header with-image":"intro-header")},this.props.introCardConfigs.quiz_title),l.default.createElement("div",{className:""+(this.props.introCardConfigs.background_image&&this.props.isMobile?"intro-description with-image":"intro-description")},this.props.introCardConfigs.introduction),l.default.createElement("div",{className:"intro-button-div"},l.default.createElement("button",{className:"intro-button",onClick:this.props.startQuiz,style:e},this.props.introCardConfigs.start_button_text))),l.default.createElement("div",{className:"credits",id:"credits"},l.default.createElement("a",{href:"https://pykih.com/open-tools/quizjs",target:"blank"},"Created by : ICFJ | Pykih"))),l.default.createElement("div",{className:"intro-back"},l.default.createElement("div",{className:"countdown-content"},l.default.createElement("div",{className:"countdown-text"},"Starting your quiz in"),l.default.createElement("div",{className:"countdown-counter"},"3")))))}}]),t}(l.default.Component));t.default=d},function(e,t,a){"use strict";
function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),c=a(2),l=r(c),u=a(3),d=(r(u),function(e){function t(){return i(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"componentDidMount",value:function(){setTimeout(function(){window.twttr=function(e,t,a){var r,i=e.getElementsByTagName(t)[0],n=window.twttr||{};return e.getElementById(a)?n:(r=e.createElement(t),r.id=a,r.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(r,i),n._e=[],n.ready=function(e){n._e.push(e)},n)}(document,"script","twitter-wjs"),function(e,t,a){var r,i=e.getElementsByTagName(t)[0];e.getElementById(a)||(r=e.createElement(t),r.id=a,r.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8",i.parentNode.insertBefore(r,i))}(document,"script","facebook-jssdk")},500)}},{key:"goBack",value:function(e){var t=document.querySelector(".conclusion-card"),a=document.querySelector(".conclusion-front"),r=document.querySelector(".conclusion-back");a.style.display="block",setTimeout(function(e){r.style.display="none"},100),t.classList.remove("clicked")}},{key:"renderReadingLinks",value:function(){var e=this,t=this.props.resultCardConfigs,a=t[0].upper_limit_of_score_range,r=this.props.cardConfigs,i=void 0,n="Thank you!";if("scoring"===r.quiz_type&&a){var o=t.filter(function(t){return e.props.score<=t.upper_limit_of_score_range})[0];if(o){n=o.message;var s=o.related_articles.length>2?o.related_articles.slice(0,2):o.related_articles;i=s.map(function(e,t){return l.default.createElement("div",{key:t,className:"single-link-container"},l.default.createElement("a",{className:"single-link",href:""+e.related_article_links,target:"blank"},e.related_article_links?l.default.createElement("img",{src:""+e.link_image.image,className:"link-img"}):void 0,l.default.createElement("div",{className:"link-info "+(e.related_article_links?"":"link-info-full-width")},l.default.createElement("div",{className:"link-title"},e.link_description))),l.default.createElement("div",{className:"clearfix"}))})}}else t.map(function(e){var t=e.related_articles.length>2?e.related_articles.slice(0,2):e.related_articles;i=t.map(function(e,t){return l.default.createElement("div",{key:t,className:"single-link-container"},l.default.createElement("a",{className:"single-link",href:""+e.related_article_links,target:"blank"},e.related_article_links?l.default.createElement("img",{src:""+e.link_image.image,className:"link-img"}):void 0,l.default.createElement("div",{className:"link-info "+(e.related_article_links?"":"link-info-full-width")},l.default.createElement("div",{className:"link-title"},e.link_description))),l.default.createElement("div",{className:"clearfix"}))})});return{links:i,message:n}}},{key:"render",value:function(){var e=this,t={},a="",r="",i="",n=void 0,o="Thank you!";if("scoring"===this.props.cardConfigs.quiz_type){var s=this.renderReadingLinks();n=s.links,o=s.message}return t.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0.0005, 0, "+(160-20*(+this.props.totalQuestions+1))+", "+320*(+this.props.totalQuestions+1)*-1+", "+(1+.08*(+this.props.totalQuestions+1))+")",+this.props.totalQuestions>1&&(t.opacity=0),this.props.cardConfigs.social_share||(r="half-size"),this.props.cardConfigs.revisit_answers===!1&&this.props.cardConfigs.social_share===!1?a="full-size":this.props.cardConfigs.revisit_answers!==!1&&this.props.cardConfigs.social_share!==!1||(a="half-size"),this.props.cardConfigs.revisit_answers||(i="half-size"),l.default.createElement("div",{className:"conclusion-card",style:t},l.default.createElement("div",{className:"content"},l.default.createElement("div",{className:"conclusion-front"},l.default.createElement("div",{id:"result_container",className:"result-container"},l.default.createElement("img",{className:"result-img",src:this.props.baseURL+"/images/cup.png"}),l.default.createElement("div",{className:"result-text"},o),"scoring"===this.props.cardConfigs.quiz_type&&l.default.createElement("div",{className:"result-score"},this.props.cardConfigs.timer?this.props.score+" / "+this.props.totalQuestions*this.props.cardConfigs.time_per_question:this.props.score+" / "+ +this.props.totalQuestions)),l.default.createElement("div",{id:"buttons_container",className:"buttons-container"},this.props.cardConfigs.revisit_answers?l.default.createElement("div",{id:"revisit",className:"revisit card-button "+r,onClick:this.props.cardEvents.revisitAnswers},l.default.createElement("img",{className:"card-button-img",src:this.props.baseURL+"/images/revisit-icon.png"}),l.default.createElement("div",{className:"card-button-text"},"Revisit Answers")):void 0,l.default.createElement("div",{id:"replay",className:"replay card-button "+a,onClick:this.props.cardEvents.resetQuiz},l.default.createElement("img",{className:"card-button-img",src:this.props.baseURL+"/images/replay.png"}),l.default.createElement("div",{className:"card-button-text"},"Play Again")),this.props.cardConfigs.social_share?l.default.createElement("div",{id:"share",className:"share card-button "+i,onClick:this.props.cardEvents.socialShare},l.default.createElement("img",{className:"card-button-img",src:this.props.baseURL+"/images/share.png"}),l.default.createElement("div",{className:"card-button-text"},"Share")):void 0,l.default.createElement("div",{className:"clearfix"})),n&&l.default.createElement("div",{className:"links-container"},l.default.createElement("div",{className:"related-links-title"},"RELATED ARTICLES"),l.default.createElement("div",{className:"related-links-content"},n)),l.default.createElement("div",{id:"credits",className:"credits"},l.default.createElement("a",{href:"https://pykih.com/open-tools/quizjs",target:"blank"},"Created by : ICFJ | Pykih"))),this.props.cardConfigs.social_share&&l.default.createElement("div",{className:"conclusion-back"},l.default.createElement("div",{className:"share-card"},l.default.createElement("div",{className:"share-image-div",style:{backgroundImage:"url('"+this.props.introCardConfigs.background_image+"')"}},l.default.createElement("div",{className:"share-title",style:{color:"white"}},this.props.introCardConfigs.quiz_title)),l.default.createElement("div",{className:"share-msg"},this.props.cardConfigs.share_msg.replace(/{score}/g,this.props.score))),l.default.createElement("div",{className:"share-buttons-div"},l.default.createElement("div",{className:"fb-div"},l.default.createElement("div",{className:"fb-share-button","data-href":""+this.props.cardConfigs.share_link,"data-layout":"button","data-size":"large","data-mobile-iframe":"true"},l.default.createElement("a",{className:"fb-xfbml-parse-ignore",target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&src=sdkpreparse"},"Share"))),l.default.createElement("div",{className:"twitter-div"},l.default.createElement("a",{className:"twitter-share-button",href:"https://twitter.com/intent/tweet?text="+encodeURIComponent(this.props.cardConfigs.share_msg)+"&url="+encodeURIComponent(this.props.cardConfigs.share_link),"data-size":"large"},"Tweet")),l.default.createElement("div",{className:"clearfix"})),l.default.createElement("div",{className:"back-link",onClick:function(t){return e.goBack(t)}},"Go Back"),l.default.createElement("div",{id:"credits",className:"credits"},l.default.createElement("a",{href:"https://pykih.com/open-tools/quizjs",target:"blank"},"Created by : ICFJ | Pykih")))))}}]),t}(l.default.Component));t.default=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),c=a(2),l=r(c),u=a(3),d=(r(u),function(e){function t(){return i(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"renderTimer",value:function(){return l.default.createElement("div",{className:"timer"},l.default.createElement("span",{className:"timer-count"},""+this.props.timerValue.min,":",+this.props.timerValue.sec<6?l.default.createElement("span",{className:"danger"},""+this.props.timerValue.sec):""+this.props.timerValue.sec),l.default.createElement("img",{className:"timer-img",src:this.props.baseURL+"/images/clock-small.png"}))}},{key:"render",value:function(){var e=this,t=void 0;return"scoring"===this.props.cardConfigs.quiz_type&&(t=this.props.cardData.options.filter(function(e){return e.right_or_wrong===!0})[0].option),l.default.createElement("div",{className:0===this.props.cardNo?"question-card active":"question-card","data-order":this.props.cardNo,style:this.props.cardStyle,"data-card-type":this.props.cardType,"data-isNavigable":"0"},l.default.createElement("div",{className:"content"},l.default.createElement("div",{className:"front",onTouchStart:this.props.isMobile&&!this.props.cardConfigs.flip_card?this.props.cardEvents.onTouchStart:void 0,onTouchMove:this.props.isMobile&&!this.props.cardConfigs.flip_card?this.props.cardEvents.onTouchMove:void 0,onTouchEnd:this.props.isMobile&&!this.props.cardConfigs.flip_card?this.props.cardEvents.onTouchEnd:void 0},"scoring"===this.props.cardConfigs.quiz_type&&this.props.cardConfigs.timer?this.renderTimer():void 0,"scoring"===this.props.cardConfigs.quiz_type&&this.props.cardConfigs.timer&&!this.props.cardConfigs.flip_card?l.default.createElement("div",{className:"timeout-msg"},"Timed out!"):void 0,l.default.createElement("div",{className:"question-number"},l.default.createElement("span",{className:"current-question"},this.props.questionNo),"/"+this.props.totalQuestions),l.default.createElement("div",{className:"question"},this.props.cardData.question),"scoring"!==this.props.cardConfigs.quiz_type||this.props.cardConfigs.flip_card?void 0:l.default.createElement("div",{id:"title_"+(this.props.cardNo+1),className:"title"},"ANSWER"),"scoring"!==this.props.cardConfigs.quiz_type||this.props.cardConfigs.flip_card?l.default.createElement("div",{className:"answers-container"},l.default.createElement("div",{className:"correct-answer"})):l.default.createElement("div",{className:"answers-container"},l.default.createElement("div",{className:"wrong-answer"},l.default.createElement("span",{className:"option-text"}),l.default.createElement("span",{className:"cross-marker"},"✕")),l.default.createElement("div",{id:"correct_answer"+(this.props.cardNo+1),className:"correct-answer"},l.default.createElement("span",{className:"option-text"},t),l.default.createElement("span",{className:"tick-marker"},"✓"))),l.default.createElement("div",{className:"option-container"},this.props.cardData.options.map(function(t,a){return l.default.createElement("div",{key:a,"data-option-id":a,className:"option-div",onClick:e.props.cardEvents.optionClick},t.option)})),this.props.isMobile?l.default.createElement("div",{className:"swipe-hint-container",id:"swipe_hint_container"},l.default.createElement("div",{className:"swipe-hint-animation",id:"swipe_hint_animation"},l.default.createElement("img",{src:this.props.baseURL+"/images/swipe-up.gif"})),l.default.createElement("div",{className:"swipe-hint-msg",id:"swipe_hint_msg"},"Swipe up for next question")):l.default.createElement("div",{className:"next-container"},l.default.createElement("span",{id:"next",className:"next",onClick:function(t){return e.props.cardEvents.nextCard(t)}},"Next")),l.default.createElement("div",{className:"progress-bar"},l.default.createElement("div",{className:"progress-indicator",style:{width:100*+this.props.questionNo/+this.props.totalQuestions+"%"}})),l.default.createElement("div",{id:"credits",className:"credits"},l.default.createElement("a",{href:"https://pykih.com/open-tools/quizjs",target:"blank"},"Created by : ICFJ | Pykih"))),!("scoring"===this.props.cardConfigs.quiz_type&&!this.props.cardConfigs.flip_card)&&l.default.createElement("div",{className:"back",onTouchStart:this.props.isMobile&&this.props.cardConfigs.flip_card?this.props.cardEvents.onTouchStart:void 0,onTouchMove:this.props.isMobile&&this.props.cardConfigs.flip_card?this.props.cardEvents.onTouchMove:void 0,onTouchEnd:this.props.isMobile&&this.props.cardConfigs.flip_card?this.props.cardEvents.onTouchEnd:void 0},"scoring"===this.props.cardConfigs.quiz_type&&this.props.cardConfigs.timer&&l.default.createElement("div",{className:"timeout-msg"},"Timed out!"),l.default.createElement("div",{className:"question-number"},l.default.createElement("span",{className:"current-question"},this.props.questionNo),"/"+this.props.totalQuestions),l.default.createElement("div",{className:"title"},this.props.cardData.question),l.default.createElement("div",{className:"gif-div"},l.default.createElement("img",{className:"gif"})),"scoring"===this.props.cardConfigs.quiz_type?l.default.createElement("div",{className:"answers-container"},l.default.createElement("div",{className:"wrong-answer"},l.default.createElement("span",{className:"option-text"}),l.default.createElement("span",{className:"cross-marker"},"✕")),l.default.createElement("div",{className:"correct-answer"},l.default.createElement("span",{className:"option-text"},t),l.default.createElement("span",{className:"tick-marker"},"✓"))):l.default.createElement("div",{className:"answers-container"},l.default.createElement("div",{className:"correct-answer"})),l.default.createElement("div",{className:"clear-both"}),l.default.createElement("div",{className:"answer"}),l.default.createElement("div",{className:"fact"}),this.props.isMobile?l.default.createElement("div",{className:"swipe-hint-container",id:"swipe_hint_container"},l.default.createElement("div",{className:"swipe-hint-animation",id:"swipe_hint_animation"},l.default.createElement("img",{src:this.props.baseURL+"/images/swipe-up.gif"})),l.default.createElement("div",{className:"swipe-hint-msg",id:"swipe_hint_msg"},"Swipe up for next question")):l.default.createElement("div",{className:"next-container"},l.default.createElement("span",{id:"next",className:"next",onClick:function(t){return e.props.cardEvents.nextCard(t)}},"Next")),l.default.createElement("div",{className:"progress-bar"},l.default.createElement("div",{className:"progress-indicator",style:{width:100*+this.props.questionNo/+this.props.totalQuestions+"%"}})),l.default.createElement("div",{id:"credits",className:"credits"},l.default.createElement("a",{href:"https://pykih.com/open-tools/quizjs",target:"blank"},"Created by : ICFJ | Pykih")))))}}]),t}(l.default.Component));t.default=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),o=a(3),s=r(o),c=a(12),l=r(c);window.ProtoGraph=window.ProtoGraph||{},window.ProtoGraph.Card=window.ProtoGraph.Card||{},NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),ProtoGraph.Card.toQuiz.prototype.getData=function(){return this.containerInstance.exportData()},ProtoGraph.Card.toQuiz.prototype.renderEdit=function(e){var t=this;this.mode="edit",s.default.render(n.default.createElement(l.default,{dataURL:this.options.data_url,schemaURL:this.options.schema_url,configURL:this.options.configuration_url,configSchemaURL:this.options.configuration_schema_url,uiSchemaURL:this.options.ui_schema_url,baseURL:this.options.base_url,mode:this.mode,onPublishCallback:e,ref:function(e){t.containerInstance=t.containerInstance||e}}),this.options.selector)}},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(2),u=r(l),d=a(3),p=(r(d),a(5)),f=r(p),m=a(6),h=r(m),y=a(4),g=r(y),_=a(13),v=r(_),b=function(e){function t(e){i(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.shouldQuizRender=!0,a.state={fetchingData:!0,dataJSON:{data:{},mandatory_config:{}},schemaJSON:{},optionalConfigJSON:{},optionalConfigSchemaJSON:{},uiSchemaJSON:{},resultCardData:{},step:1,updatingQuiz:!1,baseURL:a.props.baseURL},a}return o(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;this.state.fetchingData&&f.default.all([f.default.get(this.props.dataURL),f.default.get(this.props.schemaURL),f.default.get(this.props.configURL),f.default.get(this.props.configSchemaURL),f.default.get(this.props.uiSchemaURL)]).then(f.default.spread(function(t,a,r,i,n){var o={fetchingData:!1,dataJSON:t.data,schemaJSON:a.data,optionalConfigJSON:r.data,optionalConfigSchemaJSON:i.data,resultCardData:t.data.data.result_card_data,uiSchemaJSON:n.data};o.dataJSON.data.result_card_data=o.dataJSON.data.result_card_data?e.processResultData(o.dataJSON.data.result_card_data,o.dataJSON.mandatory_config.quiz_type):void 0,o.totalQuestions=o.dataJSON.data.questions.length,o.totalCards=o.totalQuestions+2,o.languageTexts=e.getLanguageTexts(o.dataJSON.mandatory_config.language),o.dataJSON.mandatory_config.time_per_question&&(o.timePerQuestion=o.dataJSON.mandatory_config.time_per_question,o.timerCountValue=o.dataJSON.mandatory_config.time_per_question),e.setState(o)}))}},{key:"exportData",value:function(){var e={dataJSON:JSON.parse(JSON.stringify(this.state.dataJSON)),optionalConfigJSON:this.state.optionalConfigJSON};return e.dataJSON.data.result_card_data=this.state.resultCardData,e.name=e.dataJSON.data.basic_datapoints.quiz_title.substr(0,225),e}},{key:"processResultData",value:function(e,t){var a=[];if("scoring"===t&&e[0].upper_limit_of_score_range){var r=h.default.groupBy(e,"upper_limit_of_score_range"),i=Object.keys(r);return i.forEach(function(e){var t={};r[e].forEach(function(e){Object.keys(t).length?t.related_articles.push({related_article_links:e.related_article_links,link_description:e.link_description,link_image:e.link_image}):t={upper_limit_of_score_range:e.upper_limit_of_score_range,message:e.message,related_articles:[{related_article_links:e.related_article_links,link_description:e.link_description,link_image:e.link_image}]}}),a.push(t)}),a.sort(function(e,t){return e.upper_limit_of_score_range-t.upper_limit_of_score_range}),a}return a.push({message:e[0].message,related_articles:e.map(function(e){return{related_article_links:e.related_article_links,link_description:e.link_description,link_image:e.link_image}})}),a}},{key:"getLanguageTexts",value:function(e){var t=e?e:"english",a=void 0;switch(t.toLowerCase()){case"hindi":a={question_title:"प्रश्न ",ans_title:"उत्तर",restart:"फिर से शुरू करें ↺",next:"अगला प्रश्न ➜",swipe:"अगले प्रश्न के लिए दाईं या बाईं ओर स्वाइप करें ➜"};break;default:a={question_title:"Question ",ans_title:"ANSWER",restart:"Good Job! Take the quiz again?",next:"Next Question ➜",swipe:"Swipe on the card to continue ➜"}}return"object"===("undefined"==typeof a?"undefined":s(a))&&(a.next=a.next,a.restart=a.restart,a.swipe=a.swipe),a}},{key:"getSchemaJSON",value:function(){switch(this.state.step){case 1:return this.state.schemaJSON.properties.mandatory_config;case 2:return this.state.schemaJSON.properties.data.properties.basic_datapoints;case 3:return this.state.schemaJSON.properties.data.properties.questions;case 4:return this.state.schemaJSON.properties.data.properties.result_card_data;case 5:return this.state.optionalConfigSchemaJSON}}},{key:"getFormData",value:function(){switch(this.state.step){case 1:return this.state.dataJSON.mandatory_config;case 2:return this.state.dataJSON.data.basic_datapoints;case 3:return this.state.dataJSON.data.questions;case 4:return this.state.resultCardData;case 5:return this.state.optionalConfigJSON}}},{key:"getUISchemaJSON",value:function(){switch(this.state.step){case 1:return this.state.uiSchemaJSON.mandatory_config;case 2:return this.state.uiSchemaJSON.data.basic_datapoints;case 3:return this.state.uiSchemaJSON.data.questions;default:return{}}}},{key:"showLinkText",value:function(){switch(this.state.step){case 1:return"";case 2:case 3:case 4:case 5:return"< Back"}}},{key:"showButtonText",value:function(){switch(this.state.step){case 1:case 2:case 3:case 4:return"Next";case 5:return"Publish"}}},{key:"onPrevHandler",value:function(){this.setState(function(e,t){return{step:--e.step}})}},{key:"onChangeHandler",value:function(e){var t=this,a=e.formData;switch(this.state.step){case 1:this.setState(function(e,t){var r=e.dataJSON;return"scoring_and_timer"===a.quiz_type_form?(a.quiz_type="scoring",a.timer=!0):a.quiz_type=a.quiz_type_form,r.mandatory_config=a,{updatingQuiz:!0,dataJSON:r}});break;case 2:this.setState(function(e,t){var r=e.dataJSON;return r.data.basic_datapoints=a,{updatingQuiz:!0,dataJSON:r}});break;case 3:this.setState(function(e,t){var r=e.dataJSON;return r.data.questions=a,{updatingQuiz:!0,dataJSON:r,totalQuestions:r.data.questions.length}});break;case 4:this.setState(function(e,r){var i=a,n=e.dataJSON;return n.result_card_data=t.processResultData(i,n.mandatory_config.quiz_type),{updatingQuiz:!0,dataJSON:n,resultCardData:i}});break;case 5:this.setState(function(e,t){return{optionalConfigJSON:a}})}}},{key:"onSubmitHandler",value:function(e){var t=this;e.formData;switch(this.state.step){case 1:case 2:case 3:case 4:this.setState(function(e,t){return{step:e.step+1}});break;case 5:if("function"==typeof this.props.onPublishCallback){this.setState({publishing:!0});var a=this.props.onPublishCallback();a.then(function(e){t.setState({publishing:!1})})}}}},{key:"getReferenceFormData",value:function(){return JSON.parse(JSON.stringify(this.state.dataJSON.mandatory_config))}},{key:"componentWillUpdate",value:function(e,t){document.getElementById("protograph_embed_editQuiz")&&t.updatingQuiz&&(this.shouldQuizRender=!1)}},{key:"componentDidUpdate",value:function(e,t){document.getElementById("protograph_embed_editQuiz")&&this.state.updatingQuiz&&(this.shouldQuizRender=!0,this.setState({updatingQuiz:!1}))}},{key:"renderQuiz",value:function(){return this.shouldQuizRender?u.default.createElement(g.default,{mode:"laptop",dataJSON:this.state.dataJSON,schemaJSON:this.state.schemaJSON,optionalConfigJSON:this.state.optionalConfigJSON,optionalConfigSchemaJSON:this.state.optionalConfigSchemaJSON,totalQuestions:this.state.totalQuestions,totalCards:this.state.totalCards,languageTexts:this.state.languageTexts,timePerQuestion:this.state.timePerQuestion,timerCountValue:this.state.timerCountValue,baseURL:this.state.baseURL}):u.default.createElement("div",null)}},{key:"setScrollClass",value:function(){switch(this.state.step){case 3:case 4:return"protograph-scroll-form";default:return""}}},{key:"render",value:function(e){var t=this;return this.state.fetchingData?u.default.createElement("div",{className:"quiz-container"},u.default.createElement("div",{className:"loading-card",style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"white",opacity:1,zIndex:500}},u.default.createElement("span",{className:"loading-text",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",textAlign:"center"}},"Fetching Questions ..."))):u.default.createElement("div",{className:"proto-container"},u.default.createElement("div",{className:"ui grid form-layout"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"four wide column proto-card-form "+this.setScrollClass()},u.default.createElement("div",null,u.default.createElement("div",{className:"section-title-text"},"Fill the form"),u.default.createElement("div",{className:"ui label proto-pull-right"},"ToQuiz")),u.default.createElement("br",null),u.default.createElement(v.default,{schema:this.getSchemaJSON(),onSubmit:function(e){return t.onSubmitHandler(e)},onChange:function(e){return t.onChangeHandler(e)},referenceFormData:this.getReferenceFormData(),formData:this.getFormData(),uiSchema:this.getUISchemaJSON()},u.default.createElement("a",{onClick:function(e){return t.onPrevHandler(e)},className:""+(this.state.publishing?"protograph-disable":"")},this.showLinkText()),u.default.createElement("button",{type:"submit",className:(this.state.publishing?"ui primary loading disabled button":"")+" default-button protograph-primary-button"},this.showButtonText()))),u.default.createElement("div",{id:"protograph_embed_editQuiz",className:"twelve wide column proto-card-preview proto-share-card-div"},this.renderQuiz()))))}}]),t}(u.default.Component);t.default=b},function(e,t){e.exports=JSONSchemaForm}]);